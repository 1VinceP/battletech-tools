function update_mech_status_bar_and_tro(a,b,c){b(["BM_REMAINING_TONS","BM_UNALLOCATED_ARMOR","BM_UNALLOCATED_CRITS","BM_MOVE_HEAT","BM_WEAPON_HEAT","BM_HEAT_DISSIPATION","BM_HEAT_SUMMARY"]).then(function(b){a.mech_status_bar="",a.mech_status_bar+="<strong>"+b.BM_MOVE_HEAT+"</strong>: "+c.getMoveHeat(),a.mech_status_bar+=" | <strong>"+b.BM_WEAPON_HEAT+"</strong>: "+c.getWeaponHeat(),a.mech_status_bar+=" | <strong>"+b.BM_HEAT_DISSIPATION+"</strong>: "+c.getHeatDissipation();var d=c.getMoveHeat()+c.getWeaponHeat()-c.getHeatDissipation();d>0?a.mech_status_bar+=" | <strong>"+b.BM_HEAT_SUMMARY+'</strong>: <span class="color-red">'+d+"</span>":a.mech_status_bar+=" | <strong>"+b.BM_HEAT_SUMMARY+'</strong>: <span class="color-green">'+d+"</span>",a.mech_status_bar+=" | <strong>"+b.BM_REMAINING_TONS+"</strong>: "+c.getRemainingTonnage(),a.mech_status_bar+=" | <strong>"+b.BM_UNALLOCATED_ARMOR+"</strong>: "+c.getUnallocatedArmor(),a.mech_status_bar+=" | <strong>"+b.BM_UNALLOCATED_CRITS+"</strong>: "+c.getUnallocatedCritCount(),a.mech_summary_html=c.makeTROHTML()})}function makeBattlemechRecordSheetPDF(a){var b=new jsPDF("portrait","mm","letter");return b.setFontSize(pdfFontSize),b=createRecordSheetPDF(b,a)}function makeBattlemechCombinedPDF(a){var b=new jsPDF("portrait",null,"letter");return b.setFontSize(pdfFontSize),b=createTROPDF(b,a),b.addPage(),b=createRecordSheetPDF(b,a)}function makeBattlemechTROPDF(a){var b=new jsPDF("portrait",null,"letter");return b.setFontSize(pdfFontSize),b=createTROPDF(b,a)}function createTROPDF(a,b){lineHeight=5,col1Loc=10,col2Loc=30,col3Loc=50,col4Loc=75,col5Loc=90;var c=1;for(a.setFont(pdfFontFace,""),a.text(10,10,b.getTranslation("TRO_TYPE")+": "+b.getName()),a.text(10,10+lineHeight,b.getTranslation("TRO_TECHNOLOGY_BASE")+": "+b.getTech().name[b.useLang]),c++,a.text(10,10+lineHeight*c,b.getTranslation("TRO_ERA")+": "+b.getEra().name[b.useLang]),c++,a.text(10,10+lineHeight*c,b.getTranslation("TRO_TONNAGE")+": "+b.getTonnage()),c++,a.text(10,10+lineHeight*c,b.getTranslation("TRO_BATTLE_VALUE")+": "+b.getBattleValue()),c++,a.text(10,10+lineHeight*c,b.getTranslation("TRO_ALPHA_STRIKE_VALUE")+": "+b.getAlphaStrikeValue()),c++,a.text(10,10+lineHeight*c,b.getTranslation("TRO_CBILL_COST")+": $"+b.getCBillCost()),c++,c++,a.setFont(pdfFontFace,"bold"),a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_EQUIPMENT")),a.text(col5Loc,10+lineHeight*c,b.getTranslation("TRO_MASS")),c++,a.setFont(pdfFontFace,""),a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_INTERNAL_STRUCTURE")),a.text(col5Loc,10+lineHeight*c,b.getInteralStructureWeight()+""),c++,a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_ENGINE")),a.text(col3Loc,10+lineHeight*c,b.getEngineRating()+""),a.text(col5Loc,10+lineHeight*c,b.getEngineWeight()+""),c++,a.text(col2Loc,10+lineHeight*c,b.getTranslation("TRO_WALKING")),a.text(col3Loc,10+lineHeight*c,b.getWalkSpeed()+""),c++,a.text(col2Loc,10+lineHeight*c,b.getTranslation("TRO_RUNNING")),a.text(col3Loc,10+lineHeight*c,b.getRunSpeed()+""),c++,a.text(col2Loc,10+lineHeight*c,b.getTranslation("TRO_JUMPING")),a.text(col3Loc,10+lineHeight*c,b.getJumpSpeed()+""),c++,a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_HEAT_SINKS")),a.text(col5Loc,10+lineHeight*c,b.getHeatSinks()+""),c++,a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_GYRO")),a.text(col5Loc,10+lineHeight*c,b.getGyroWeight()+""),c++,this.small_cockpit?(a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_SMALL_COCKPIT")),a.text(col5Loc,10+lineHeight*c,b.getCockpitWeight()+"")):(a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_COCKPIT")),a.text(col5Loc,10+lineHeight*c,b.getCockpitWeight()+"")),c++,b.getJumpJetWeight()>0&&(a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_JUMP_JETS")),a.text(col5Loc,10+lineHeight*c,b.getJumpJetWeight()+"")),c++,actuator_html="","biped"==b.mech_type["class"]&&(b.hasLowerArmActuator("ra")&&(actuator_html+=b.getTranslation("TRO_LOWER_RIGHT")+", "),b.hasLowerArmActuator("la")&&(actuator_html+=b.getTranslation("TRO_LOWER_LEFT")+", "),b.hasHandActuator("ra")&&(actuator_html+=b.getTranslation("TRO_RIGHT_HAND")+", "),b.hasHandActuator("la")&&(actuator_html+=b.getTranslation("TRO_LEFT_HAND")+", "),""==actuator_html?actuator_html=b.getTranslation("TRO_NO_LOWER_ARM_ACTUATORS"):actuator_html=actuator_html.substring(0,actuator_html.length-2),a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_ARM_ACTUATORS")+": "+actuator_html),c++),a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_ARMOR_FACTOR")),a.text(col3Loc,10+lineHeight*c,b.getTotalArmor()+""),a.text(col5Loc,10+lineHeight*c,b.getArmorWeight()+""),c++,a.setFont(pdfFontFace,"bold"),a.text(col1Loc,10+lineHeight*c,""),a.text(col3Loc,10+lineHeight*c,b.getTranslation("TRO_INTERNAL")),a.text(col4Loc,10+lineHeight*c,b.getTranslation("TRO_ARMOR")),c++,a.text(col1Loc,10+lineHeight*c,""),a.text(col3Loc,10+lineHeight*c,b.getTranslation("TRO_STRUCTURE")),a.text(col4Loc,10+lineHeight*c,b.getTranslation("TRO_VALUE")),c++,a.setFont(pdfFontFace,""),a.text(col3Loc-b.getTranslation("TRO_ARMOR_HD").length-10,10+lineHeight*c,b.getTranslation("TRO_ARMOR_HD")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.head),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.head),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_CT").length-15,10+lineHeight*c,b.getTranslation("TRO_ARMOR_CT")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.centerTorso),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.centerTorso),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_CTR").length-20,10+lineHeight*c,b.getTranslation("TRO_ARMOR_CTR")),a.text(col3Loc,10+lineHeight*c,""),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.centerTorsoRear),c++,b.armorAllocation.rightTorso==b.armorAllocation.leftTorso&&b.armorAllocation.rightTorsoRear==b.armorAllocation.leftTorsoRear?(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RLT").length-14,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RLT")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightTorso),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightTorso),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_RLTR").length-19,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RLTR")),a.text(col3Loc,10+lineHeight*c,""),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightTorsoRear),c++):(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RT").length-15,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RT")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightTorso),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightTorso),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_RTR").length-15,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RTR")),a.text(col3Loc,10+lineHeight*c,""),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightTorsoRear),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_LT").length-15,10+lineHeight*c,b.getTranslation("TRO_ARMOR_LT")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.leftTorso),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.leftTorso),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_LTR").length-15,10+lineHeight*c,b.getTranslation("TRO_ARMOR_LTR")),a.text(col3Loc,10+lineHeight*c,""),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.leftTorsoRear),c++),"biped"==b.mech_type["class"]?(b.armorAllocation.rightArm==b.armorAllocation.leftArm?(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RLA").length-14,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RLA")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightArm),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightArm),c++):(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RA").length-14,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RA")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightArm),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightArm),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_LA").length-13,10+lineHeight*c,b.getTranslation("TRO_ARMOR_LA")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.leftArm),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.leftArm),c++),b.armorAllocation.rightLeg==b.armorAllocation.leftLeg?(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RLL").length-13,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RLL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightLeg),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightLeg),c++):(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RL").length-13,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightLeg),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightLeg),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_LL").length-12,10+lineHeight*c,b.getTranslation("TRO_ARMOR_LL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.leftLeg),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.leftLeg),c++)):(b.armorAllocation.rightArm==b.armorAllocation.leftArm?(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RLFL").length-17,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RLFL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightArm),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightArm),c++):(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RFL").length-18,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RFL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightArm),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightArm),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_LFL").length-17,10+lineHeight*c,b.getTranslation("TRO_ARMOR_LFL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.leftArm),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.leftArm),c++),b.armorAllocation.rightLeg==b.armorAllocation.leftLeg?(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RLRL").length-17,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RLRL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightLeg),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightLeg),c++):(a.text(col3Loc-b.getTranslation("TRO_ARMOR_RRL").length-18,10+lineHeight*c,b.getTranslation("TRO_ARMOR_RRL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.rightLeg),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.rightLeg),c++,a.text(col3Loc-b.getTranslation("TRO_ARMOR_LRL").length-17,10+lineHeight*c,b.getTranslation("TRO_ARMOR_LRL")),a.text(col3Loc,10+lineHeight*c,"     "+b.internalStructure.leftLeg),a.text(col4Loc,10+lineHeight*c,"     "+b.armorAllocation.leftLeg),c++)),a.setFontSize(pdfFontSize),c++,col1Loc=10,col2Loc=30,col3Loc=55,col4Loc=75,col5Loc=90,a.setFont(pdfFontFace,"bold"),a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_WEAPONS")),c++,a.text(col1Loc,10+lineHeight*c,b.getTranslation("TRO_AND_AMMO")),a.text(col3Loc,10+lineHeight*c,b.getTranslation("TRO_LOCATION")),a.text(col4Loc,10+lineHeight*c,b.getTranslation("TRO_CRITICAL")),a.text(col5Loc,10+lineHeight*c,b.getTranslation("TRO_TONNAGE")),c++,a.setFont(pdfFontFace,""),eq_count=0;eq_count<b.equipmentList.length;eq_count++)a.text(col1Loc,10+lineHeight*c,b.equipmentList[eq_count].name[b.useLang]),a.text(col3Loc,10+lineHeight*c,"   "+b.getLocationAbbr(b.equipmentList[eq_count].location)),a.text(col4Loc,10+lineHeight*c,"   "+b.equipmentList[eq_count].space.battlemech),a.text(col5Loc,10+lineHeight*c,"   "+b.equipmentList[eq_count].weight),c++;return a=makeFooter(a)}function createRecordSheetPDF(a,b){return a=battlemech_record_sheet(a),convertImgToDataURLviaCanvas("./images/pdf/Blank-Mech-Sheet.jpg",function(b){b&&a.addImage(b,1,1)}),a=makeFooter(a)}function convertImgToDataURLviaCanvas(a,b,c){var d=new Image;d.crossOrigin="Anonymous",d.onload=function(){var a,d=document.createElement("CANVAS"),e=d.getContext("2d");d.height=this.height,d.width=this.width,e.drawImage(this,0,0),a=d.toDataURL(c),b(a),d=null},d.src=a}function convertFileToDataURLviaFileReader(a,b){var c=new XMLHttpRequest;c.responseType="blob",c.onload=function(){var a=new FileReader;a.onloadend=function(){b(a.result)},a.readAsDataURL(c.response)},c.open("GET",a),c.send()}function makeFooter(a){return a.setFontSize(6),a.line(10,267,200,267),a.text(10,270,"Created with @Gauthic's BattleTech Tools version "+appVersion),a.text(10,273,"Exported on "+Date()),a.text(150,270,"MechWarrior, BattleMech, ‘Mech and AeroTech are "),a.text(150,273,"registered trademarks of The Topps Company, Inc."),a.setFontSize(pdfFontSize),a}function battlemech_record_sheet(a){return a}function generateUUID(){var a=(new Date).getTime();window.performance&&"function"==typeof window.performance.now&&(a+=performance.now());var b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==b?c:3&c|8).toString(16)});return b}function sortByLocationThenName(a,b){return a.location>b.location?1:a.location<b.location?-1:a.name>b.name?1:a.name<b.name?-1:0}function asGroup(){this.members=Array(),this.customName="",this.activeMembers=0,this.groupPoints=0,this.membersLabel="",this.getActiveMembers=function(){this.activeMembers=0,this.groupPoints=0;for(var a=0;a<this.members.length;a++)this.members[a].calcCurrentVals(),this.members[a].active&&this.activeMembers++,this.groupPoints+=this.members[a].currentPoints/1;this.membersLabel=" ("+this.activeMembers+"/"+this.members.length+")"}}function asUnit(a){if(this.originalStats=null,this["class"]="",this.costCR=0,this.variant="",this.name="",this.dateIntroduced="",this.era="",this.tro="",this.showDetails=0,this.active=!0,this.tonnage=0,this.currentSkill=4,this.type="BattleMech",this.size=0,this.tmm=0,this.armor=0,this.structure=0,this.threshold=0,this.damage={"short":0,medium:0,"long":0,extreme:0},this.move=Array(),this.mulID=0,this.abilities="",this.overheat=0,this.role="",this.basePoints=0,this.currentPoints=0,this.currentHeat=0,this.currentDamage=0,this.currentArmor=Array(),this.currentStructure=Array(),this.engineHits=Array(),this.fireControlHits=Array(),this.mpControlHits=Array(),this.weaponHits=Array(),this.customName="",this.getRawNumber=function(a){return myString=a.replace(/\D/g,""),myString/1},this.getRawAlpha=function(a){return myString=a.replace(/\d/g,""),myString.toLowerCase().trim()},this.toggleShowingDetails=function(){this.showDetails>0?this.showDetails=0:this.showDetails=1},"undefined"!=typeof a&&null!=a)if("undefined"!=typeof a.BFPointValue){console.log(a),this["class"]=a.Marauder,this.costCR=a.Cost/1,this.variant=a.Variant,this.name=a.Name,this.dateIntroduced=a.DateIntroduced,this.tro=a.TRO,this.mulID=a.Id,this.tonnage=a.Tonnage/1,this.threshold=a.BFThreshold/1,this.role=a.Role.Name,this.type=a.BFType,this.size=a.BFSize,this.armor=a.BFArmor/1,this.structure=a.BFStructure/1,this.damage={"short":a.BFDamageShort/1,medium:a.BFDamageMedium/1,"long":a.BFDamageLong/1},a.BFDamamgeExtreme?this.damage.extreme=a.BFDamamgeExtreme/1:this.damage.extreme=0,this.abilities=a.BFAbilities,this.overheat=a.BFOverheat/1,this.basePoints=a.BFPointValue/1,this.imageURL=a.ImageUrl;var b=a.BFMove;for(this.move=Array();b.indexOf('"')>0;)b=b.replace('"',"");if(b.indexOf("/")>0)for(var c=b.split("/"),d=0;d<c.length;d++){var e={move:0,type:""};e.move=this.getRawNumber(c[d]),e.type=this.getRawAlpha(c[d]),this.move.push(e)}else{var e={move:0,type:""};e.move=this.getRawNumber(b),e.type=this.getRawAlpha(b),this.move.push(e)}this.currentSkill=4,this.currentHeat=0,this.currentPoints=this.basePoints/1}else this["class"]=a["class"],this.costCR=a.costCR/1,this.mulID=a.mulID/1,this.imageURL=a.imageURL,this.currentHeat=a.currentHeat,this.variant=a.variant,this.name=a.name,this.dateIntroduced=a.dateIntroduced,this.tro=a.tro,this.role=a.role,this.tonnage=a.tonnage/1,this.threshold=a.threshold/1,this.type=a.type,this.size=a.size/1,this.armor=a.armor/1,this.structure=a.structure/1,this.move=a.move,this.jumpMove=a.jumpMove,this.damage={"short":a.damage["short"]/1,medium:a.damage.medium/1,"long":a.damage["long"]/1,extreme:a.damage.extreme/1},(this.damage.extreme="NaN")&&(this.damage.extreme=0),this.move=a.move,this.abilities=a.abilities,this.showDetails=a.showDetails,this.overheat=a.overheat/1,this.basePoints=a.basePoints/1,a.currentSkill>0?this.currentSkill=a.currentSkill:this.currentSkill=4,this.currentPoints=this.basePoints,a.currentArmor&&(this.currentArmor=a.currentArmor),a.currentStructure&&(this.currentStructure=a.currentStructure),a.engineHits&&(this.engineHits=a.engineHits),a.fireControlHits&&(this.fireControlHits=a.fireControlHits),a.mpControlHits&&(this.mpControlHits=a.mpControlHits),a.weaponHits&&(this.weaponHits=a.weaponHits),a.customName&&(this.customName=a.customName);this.setSkill=function(a){this.currentSkill=a/1,this.calcCurrentVals()},this.calcCurrentVals=function(){if("sv"==this.type.trim().toLowerCase()||"cv"==this.type.trim().toLowerCase())for(;this.mpControlHits.length<5;)this.mpControlHits.push(!1);if(this.isAerospace=!1,("af"==this.type.trim().toLowerCase()||"cf"==this.type.trim().toLowerCase())&&(this.isAerospace=!0),this.isInfantry=!1,("ba"==this.type.trim().toLowerCase()||"ci"==this.type.trim().toLowerCase())&&(this.isInfantry=!0),this.currentSkill<4){var a=0;a=this.basePoints<=7?1:this.basePoints<=12?2:this.basePoints<=17?3:this.basePoints<=22?4:this.basePoints<=27?5:this.basePoints<=32?6:this.basePoints<=37?7:this.basePoints<=42?8:this.basePoints<=47?9:this.basePoints<=52?10:10+Math.floor((this.basePoints-52)/5),this.currentPoints=this.basePoints+a*(4-this.currentSkill)}else this.currentSkill>4?(a=this.basePoints<=14?1:this.basePoints<=24?2:this.basePoints<=34?3:this.basePoints<=44?4:this.basePoints<=54?5:this.basePoints<=64?6:this.basePoints<=74?7:this.basePoints<=84?8:this.basePoints<=94?9:this.basePoints<=104?10:10+Math.floor((this.basePoints-104)/10),this.currentPoints=this.basePoints-a*(this.currentSkill-4)):(this.currentSkill=4,this.currentPoints=this.basePoints);if(this.currentSkillString=this.currentSkill.toString(),"undefined"==typeof this.currentArmor||0==this.currentArmor.length){this.currentArmor=Array();for(var b=0;b<this.armor;b++)this.currentArmor.push(!1)}if("undefined"==typeof this.currentStructure||0==this.currentStructure.length){this.currentStructure=Array();for(var c=0;c<this.structure;c++)this.currentStructure.push(!1)}if("undefined"==typeof this.engineHits||0==this.engineHits.length){this.engineHits=Array();for(var d=0;2>d;d++)this.engineHits.push(!1)}if("undefined"==typeof this.fireControlHits||0==this.fireControlHits.length){this.fireControlHits=Array();for(var e=0;4>e;e++)this.fireControlHits.push(!1)}if("undefined"==typeof this.mpControlHits||0==this.mpControlHits.length){this.mpControlHits=Array();for(var f=0;4>f;f++)this.mpControlHits.push(!1)}if("undefined"==typeof this.weaponHits||0==this.weaponHits.length){this.weaponHits=Array();for(var g=0;4>g;g++)this.weaponHits.push(!1)}for(var h=0,g=0;g<this.weaponHits.length;g++)this.weaponHits[g]&&h++;for(var i=0,e=0;e<this.fireControlHits.length;e++)this.fireControlHits[e]&&i++;for(var j=0,f=0;f<this.mpControlHits.length;f++)this.mpControlHits[f]&&j++;for(var k=0,d=0;d<this.engineHits.length;d++)this.engineHits[d]&&k++;var l=this.damage["short"],m=this.damage.medium,n=this.damage["long"],o=this.damage.extreme;l-=h,m-=h,n-=h,o-=h,0>l&&(l=0),0>m&&(m=0),0>n&&(n=0),0>o&&(o=0),this.currentDamage={"short":l,medium:m,"long":n,extreme:o};for(var p=0;p<this.move.length;p++)this.move[p].currentMove=this.move[p].move;if("bm"==this.type.toLowerCase()||"im"==this.type.toLowerCase())for(var f=0;f<this.mpControlHits.length;f++)if(this.mpControlHits[f])for(var p=0;p<this.move.length;p++){var q=Math.round(this.move[p].currentMove/2);2>q&&(q=2),this.move[p].currentMove=this.move[p].currentMove-q,this.move[p].currentMove<0&&(this.move[p].currentMove=0)}if("sv"==this.type.trim().toLowerCase()||"cv"==this.type.trim().toLowerCase()){for(var r=0,f=0;f<this.mpControlHits.length;f++)this.mpControlHits[f]&&r++;if(r>0)if(3>r)for(var p=0;p<this.move.length;p++)this.move[p].currentMove=this.move[p].currentMove-2,this.move[p].currentMove<0&&(this.move[p].currentMove=0);else if(5>r)for(var p=0;p<this.move.length;p++)this.move[p].currentMove=Math.round(this.move[p].currentMove/2),this.move[p].currentMove<0&&(this.move[p].currentMove=0);else for(var p=0;p<this.move.length;p++)this.move[p].currentMove=0}this.currentMove="",this.currentTMM="",this.immobile=!0;for(var p=0;p<this.move.length;p++)"j"!=this.move[p].type&&(this.move[p].currentMove=this.move[p].currentMove-2*this.currentHeat),this.currentMove+=""+this.move[p].currentMove+'"'+this.move[p].type,tmpTMM=0,this.move[p].currentMove<5?tmpTMM=0:this.move[p].currentMove<9?tmpTMM=1:this.move[p].currentMove<13?tmpTMM=2:this.move[p].currentMove<19?tmpTMM=3:this.move[p].currentMove<35?tmpTMM=4:tmpTMM=5,"j"==this.move[p].type&&tmpTMM++,this.move[p].currentMove<0&&(this.move[p].currentMove=0),0==this.move[p].currentMove&&(tmpTMM=0),this.move[p].currentMove>0&&(this.immobile=!1),this.currentTMM+=""+tmpTMM+this.move[p].type,p!=this.move.length-1&&(this.currentTMM+="/",this.currentMove+="/");this.currentToHitShort=this.currentSkill+this.currentHeat+2*i+k,this.currentToHitMedium=this.currentSkill+2+this.currentHeat+2*i+k,this.currentToHitLong=this.currentSkill+4+this.currentHeat+2*i+k,this.currentToHitExtreme=this.currentSkill+6+this.currentHeat+2*i+k,this.currentHeat=this.currentHeat/1,1==k&&this.currentHeat<1&&(this.currentHeat=1),this.currentHeat<0&&(this.currentHeat=0),this.currentHeat>4&&(this.currentHeat=4),this.getCurrentStructure(),k>1&&(this.active=!1)},this.setHeat=function(a){this.currentHeat=a,this.calcCurrentVals()},this.takeDamage=function(a){leftOverPoints=a;for(var b=0;a>b;b++){for(var c=0;c<this.currentArmor.length;c++)0==this.currentArmor[c]&&leftOverPoints>0&&(this.currentArmor[c]=!0,leftOverPoints--);for(var d=0;d<this.currentStructure.length;d++)0==this.currentStructure[d]&&leftOverPoints>0&&(this.currentStructure[d]=!0,leftOverPoints--,0==this.getCurrentStructure()?this.active=!1:this.active=!0)}this.calcCurrentVals()},this.getCurrentArmor=function(){for(var a=0,b=0;b<this.currentArmor.length;b++)0==this.currentArmor[b]&&a++;return a},this.getCurrentStructure=function(){for(var a=0,b=0;b<this.currentStructure.length;b++)0==this.currentStructure[b]&&a++;return 1>a?this.active=!1:this.active=!0,a},this.calcCurrentVals()}function Mech(a){this.mech_type=mechTypeOptions[0],this.tech=btTechOptions[0],this.era=btEraOptions[1],this.make="",this.model="",this.uuid="",this.tonnage=20,this.useLang=this.useLang,this.max_armor=0,this.internalStructure={},this.internalStructure.head=0,this.internalStructure.centerTorso=0,this.internalStructure.leftTorso=0,this.internalStructure.rightTorso=0,this.small_cockpit=!1,this.cockpit_weight=3,this.internalStructure.rightArm=0,this.internalStructure.leftArm=0,this.internalStructure.rightLeg=0,this.internalStructure.leftLeg=0,this.additional_heat_sinks=0,this.armorWeight=0,this.total_armor=0,this.unallocated_armor=0,this.armorAllocation={},this.heat_sink_type="single",this.armorAllocation.head=0,this.armorAllocation.centerTorso=0,this.armorAllocation.leftTorso=0,this.armorAllocation.rightTorso=0,this.armorAllocation.centerTorsoRear=0,this.armorAllocation.leftTorsoRear=0,this.armorAllocation.rightTorsoRear=0,this.armorAllocation.rightArm=0,this.armorAllocation.leftArm=0,this.armorAllocation.rightLeg=0,this.armorAllocation.leftLeg=0,this.armorAllocation.head=0,this.equipmentList=Array(),this.criticalAllocationTable=Array(),this.weights=Array(),this.unallocatedCriticals=Array(),this.criticals={},this.criticals.head=Array(),this.criticals.centerTorso=Array(),this.criticals.leftTorso=Array(),this.criticals.rightTorso=Array(),this.criticals.rightArm=Array(),this.criticals.leftArm=Array(),this.criticals.rightLeg=Array(),this.criticals.leftLeg=Array(),this.weights=Array(),this.gyro=mechGyroTypes[0],this.engine=0,this.engineType=mechEngineTypes[0],this.jumpJetType=mechJumpJetTypes[0],this.walkSpeed=0,this.runSpeed=0,this.jumpSpeed=0,this.max_armor_tonnage=0,this.cbillCost="n/a",this.battleValue="n/a",this.alphaStrikeValue="n/a",this.calcLogBV="",this.calcLogAS="",this.calcLogCBill="",this.validJJLocations=[{"long":"leftTorso","short":"lt"},{"long":"leftLeg","short":"ll"},{"long":"rightLeg","short":"rl"},{"long":"rightTorso","short":"rt"},{"long":"centerTorso","short":"ct"}],this.alphaStrikeForceStats={make:"",model:"",size_class:"",move:"",jump_move:"",pv:"",range_short:"",range_medium:"",range_long:"",range_extreme:"",armor:"",structure:"",size:0,skill:4,ov:0,notes:""}}function update_walking_jumping_dropdowns(a,b,c){b(["BM_STEP2_SELECT_WALK","BM_STEP2_SELECT_JUMP","BM_MP_ABBR"]).then(function(b){for(availble_walking_mp=[],availble_jumping_mp=[],selected_walking_mp=0,selected_jumping_mp=0,max_walking=400/c.tonnage,max_jumping=c.getWalkSpeed(),m_counter=0;m_counter<=max_walking;m_counter++)0==m_counter?(availble_walking_mp.push({id:m_counter,name:"- "+b.BM_STEP2_SELECT_WALK+" -"}),c.getWalkSpeed()==m_counter&&(selected_walking_mp={id:m_counter,name:"- "+b.BM_STEP2_SELECT_WALK+" -"})):(availble_walking_mp.push({id:m_counter,name:m_counter+" "+b.BM_MP_ABBR}),c.getWalkSpeed()==m_counter&&(selected_walking_mp={id:m_counter,name:m_counter+" "+b.BM_MP_ABBR}));for(m_counter=0;m_counter<=max_jumping;m_counter++)0==m_counter?(availble_jumping_mp.push({id:m_counter,name:"- "+b.BM_STEP2_SELECT_JUMP+" -"}),c.getJumpSpeed()==m_counter&&(selected_jumping_mp={id:m_counter,name:"- "+b.BM_STEP2_SELECT_JUMP+" -"})):(availble_jumping_mp.push({id:m_counter,name:m_counter+" "+b.BM_MP_ABBR}),c.getJumpSpeed()==m_counter&&(selected_jumping_mp={id:m_counter,name:m_counter+" "+b.BM_MP_ABBR}));a.mech_jumping={availableOptions:availble_jumping_mp,selectedOption:selected_jumping_mp},a.mech_walking={availableOptions:availble_walking_mp,selectedOption:selected_walking_mp}})}function update_heat_sink_dropdown(a,b,c){b(["BM_STEP3_CRITICAL_REQUIRED","BM_STEP3_CRITICAL_REQUIRED_NONE","BM_STEP3_CRITICAL_REQUIRED_SINGLE"]).then(function(b){current_heat_sinks=c.getHeatSinks()-10,a.heat_sink_list=[],a.heat_sink_list.push({id:0,label:"None"}),0==current_heat_sinks&&(a.selected_heat_sinks={id:0,label:"None"}),remaining_tonnage=Math.floor(c.getRemainingTonnage()),remaining_tonnage<0&&(remaining_tonnage=0);for(var d=1;d<=remaining_tonnage+current_heat_sinks;d++)a.heat_sink_list.push({id:d,label:d}),d==current_heat_sinks&&(a.selected_heat_sinks={id:d,label:d});var e=c.getHeatSinkCriticalRequirements();e&&(the_label=b.BM_STEP3_CRITICAL_REQUIRED,the_label_single=b.BM_STEP3_CRITICAL_REQUIRED_SINGLE,the_label_none=b.BM_STEP3_CRITICAL_REQUIRED_NONE,a.hs_crits_required=e.number*e.slots_each,hs_crit_count=e.number*e.slots_each,hs_crit_count<0&&(hs_crit_count=0),1==hs_crit_count?a.label_criticals_required=the_label_single.replace("{hs_crits_required}",hs_crit_count):0==hs_crit_count?a.label_criticals_required=the_label_none.replace("{hs_crits_required}",hs_crit_count):a.label_criticals_required=the_label.replace("{hs_crits_required}",hs_crit_count))})}function make_armor_select_dd_options(a){for(var b=[],c=0;a>=c;c++)b.push({id:c,label:c});return b}function make_current_option(a){var b={id:a,label:a};return b}function update_step4_page_items(a,b,c){b(["BM_NO_ARMOR","BM_TON","BM_TONS","BM_STEP3_CRITICAL_REQUIRED","BM_STEP3_CRITICAL_REQUIRED_NONE","BM_STEP3_CRITICAL_REQUIRED_SINGLE","BM_STEP4_MAX_ARMOR","BM_STEP4_TOTAL_ARMOR","BM_STEP4_UNALLOCATED_ARMOR"]).then(function(b){a.for_quad=!1,a.for_biped=!1,"quad"==c.getType()["class"]?a.for_quad=!0:a.for_biped=!0,current_armor_weight=c.getArmorWeight(),a.armor_weight_list=[],a.armor_weight_list.push({id:0,label:b.BM_NO_ARMOR}),0==current_armor_weight&&(a.selected_armor_weight={id:0,label:b.BM_NO_ARMOR});for(var d=1;d<=c.getMaxArmorTonnage()+.5;d+=.5)1==d?tons_label=b.BM_TON:tons_label=b.BM_TONS,a.armor_weight_list.push({id:d,label:d+" "+tons_label}),d==current_armor_weight&&(a.selected_armor_weight={id:d,label:d+" "+tons_label});label_armor_stats=b.BM_STEP4_MAX_ARMOR+": "+c.getMaxArmor()+"<br />",label_armor_stats+=b.BM_STEP4_TOTAL_ARMOR+": "+c.getTotalArmor()+"<br />",label_armor_stats+=b.BM_STEP4_UNALLOCATED_ARMOR+": "+c.getUnallocatedArmor()+"<br />",armor_allocations=c.getArmorAllocations(),internal_structure=c.getInteralStructure(),a.armor_alloc_hd=make_armor_select_dd_options(9),a.armor_current_hd=make_current_option(armor_allocations.head),a.armor_alloc_ct=make_armor_select_dd_options(2*internal_structure.centerTorso-armor_allocations.centerTorsoRear),a.armor_current_ct=make_current_option(armor_allocations.centerTorso),a.armor_alloc_rt=make_armor_select_dd_options(2*internal_structure.rightTorso-armor_allocations.rightTorsoRear),a.armor_current_rt=make_current_option(armor_allocations.rightTorso),a.armor_alloc_lt=make_armor_select_dd_options(2*internal_structure.leftTorso-armor_allocations.leftTorsoRear),a.armor_current_lt=make_current_option(armor_allocations.leftTorso),a.armor_alloc_ctr=make_armor_select_dd_options(2*internal_structure.centerTorso-armor_allocations.centerTorso),a.armor_current_ctr=make_current_option(armor_allocations.centerTorsoRear),a.armor_alloc_rtr=make_armor_select_dd_options(2*internal_structure.rightTorso-armor_allocations.rightTorso),a.armor_current_rtr=make_current_option(armor_allocations.rightTorsoRear),a.armor_alloc_ltr=make_armor_select_dd_options(2*internal_structure.leftTorso-armor_allocations.leftTorso),a.armor_current_ltr=make_current_option(armor_allocations.leftTorsoRear),a.armor_alloc_ll=make_armor_select_dd_options(2*internal_structure.leftLeg),a.armor_current_ll=make_current_option(armor_allocations.leftLeg),a.armor_alloc_la=make_armor_select_dd_options(2*internal_structure.leftArm),a.armor_current_la=make_current_option(armor_allocations.leftArm),a.armor_alloc_rl=make_armor_select_dd_options(2*internal_structure.rightLeg),a.armor_current_rl=make_current_option(armor_allocations.rightLeg),a.armor_alloc_ra=make_armor_select_dd_options(2*internal_structure.rightArm),a.armor_current_ra=make_current_option(armor_allocations.rightArm),a.label_armor_stats=label_armor_stats})}function make_select_object(a){for(loccount=0;loccount<battlemechLocations.length;loccount++)if(battlemechLocations[loccount].tag==a)return{id:battlemechLocations[loccount].tag,name:battlemechLocations[loccount].name[localStorage["tmp.preferred_language"]]};return null}function update_step_6_items(a,b){a.has_la_hand_actuator=b.hasHandActuator("la"),a.has_ra_hand_actuator=b.hasHandActuator("ra"),a.has_la_lower_arm_actuator=b.hasLowerArmActuator("la"),a.has_ra_lower_arm_actuator=b.hasLowerArmActuator("ra"),b.trimCriticals(),a.battlemech_head=b.criticals.head,a.battlemech_left_arm=b.criticals.leftArm,a.battlemech_right_arm=b.criticals.rightArm,a.battlemech_left_leg=b.criticals.leftLeg,a.battlemech_right_leg=b.criticals.rightLeg,a.battlemech_left_torso=b.criticals.leftTorso,a.battlemech_center_torso=b.criticals.centerTorso,a.battlemech_right_torso=b.criticals.rightTorso,a.battlemech_unallocated_items=b.unallocatedCriticals}var available_languages=[],appVersion="0.01Alpha";webApp=angular.module("cordovaApp",["ngRoute","ngResource","ngSanitize","pascalprecht.translate","as.sortable","mm.foundation"],["$routeProvider","$translateProvider",function(a,b,c,d){for(lang_count=0;lang_count<available_languages.length;lang_count++)available_languages[lang_count].active&&b.translations(available_languages[lang_count].short_code,available_languages[lang_count].translations);b.useSanitizeValueStrategy("sanitize"),preferred_language="en-US",localStorage&&localStorage["tmp.preferred_language"]?preferred_language=localStorage["tmp.preferred_language"]:localStorage["tmp.preferred_language"]="en-US",b.preferredLanguage(preferred_language),a.when("/",{templateUrl:"pages/welcome.html",controller:"welcomeController"}).when("/credits",{templateUrl:"pages/credits.html",controller:"creditsController"}).when("/battlemech-creator/",{templateUrl:"pages/battlemech-creator-welcome.html",controller:"battlemechCreatorControllerWelcome"}).when("/battlemech-creator/step1/",{
templateUrl:"pages/battlemech-creator-step1.html",controller:"battlemechCreatorControllerStep1"}).when("/battlemech-creator/step2/",{templateUrl:"pages/battlemech-creator-step2.html",controller:"battlemechCreatorControllerStep2"}).when("/battlemech-creator/step3/",{templateUrl:"pages/battlemech-creator-step3.html",controller:"battlemechCreatorControllerStep3"}).when("/battlemech-creator/step4/",{templateUrl:"pages/battlemech-creator-step4.html",controller:"battlemechCreatorControllerStep4"}).when("/battlemech-creator/step5/",{templateUrl:"pages/battlemech-creator-step5.html",controller:"battlemechCreatorControllerStep5"}).when("/battlemech-creator/step6/",{templateUrl:"pages/battlemech-creator-step6.html",controller:"battlemechCreatorControllerStep6"}).when("/battlemech-creator/summary/",{templateUrl:"pages/battlemech-creator-summary.html",controller:"battlemechCreatorControllerSummary"}).when("/battlemech-creator/exports/",{templateUrl:"pages/battlemech-creator-exports.html",controller:"battlemechCreatorControllerExports"}).when("/as/",{templateUrl:"pages/as-builder.html",controller:"asBuilderController"}).when("/as/play-view",{templateUrl:"pages/as-play-view.html",controller:"asPlayViewController"}).when("/settings",{templateUrl:"pages/settings.html",controller:"settingsController"})}]),angular.module("cordovaApp").controller("select_language",["$translate","$scope","$route",function(a,b,c){b.change_language=function(b){a.use(b),localStorage["tmp.preferred_language"]=b,c.reload()}}]);var available_languages=[],appVersion="0.01Alpha";webApp=angular.module("webApp",["ngRoute","ngResource","ngSanitize","pascalprecht.translate","as.sortable","mm.foundation"],["$routeProvider","$translateProvider",function(a,b,c,d){for(lang_count=0;lang_count<available_languages.length;lang_count++)available_languages[lang_count].active&&b.translations(available_languages[lang_count].short_code,available_languages[lang_count].translations);b.useSanitizeValueStrategy("sanitize"),preferred_language="en-US",localStorage&&localStorage["tmp.preferred_language"]?preferred_language=localStorage["tmp.preferred_language"]:localStorage["tmp.preferred_language"]="en-US",b.preferredLanguage(preferred_language),a.when("/",{templateUrl:"pages/welcome.html",controller:"welcomeController"}).when("/credits",{templateUrl:"pages/credits.html",controller:"creditsController"}).when("/battlemech-creator/",{templateUrl:"pages/battlemech-creator-welcome.html",controller:"battlemechCreatorControllerWelcome"}).when("/battlemech-creator/step1/",{templateUrl:"pages/battlemech-creator-step1.html",controller:"battlemechCreatorControllerStep1"}).when("/battlemech-creator/step2/",{templateUrl:"pages/battlemech-creator-step2.html",controller:"battlemechCreatorControllerStep2"}).when("/battlemech-creator/step3/",{templateUrl:"pages/battlemech-creator-step3.html",controller:"battlemechCreatorControllerStep3"}).when("/battlemech-creator/step4/",{templateUrl:"pages/battlemech-creator-step4.html",controller:"battlemechCreatorControllerStep4"}).when("/battlemech-creator/step5/",{templateUrl:"pages/battlemech-creator-step5.html",controller:"battlemechCreatorControllerStep5"}).when("/battlemech-creator/step6/",{templateUrl:"pages/battlemech-creator-step6.html",controller:"battlemechCreatorControllerStep6"}).when("/battlemech-creator/summary/",{templateUrl:"pages/battlemech-creator-summary.html",controller:"battlemechCreatorControllerSummary"}).when("/battlemech-creator/exports/",{templateUrl:"pages/battlemech-creator-exports.html",controller:"battlemechCreatorControllerExports"}).when("/as/",{templateUrl:"pages/as-builder.html",controller:"asBuilderController"}).when("/as/play-view",{templateUrl:"pages/as-play-view.html",controller:"asPlayViewController"}).when("/settings",{templateUrl:"pages/settings.html",controller:"settingsController"})}]),angular.module("webApp").controller("select_language",["$translate","$scope","$route",function(a,b,c){b.change_language=function(b){a.use(b),localStorage["tmp.preferred_language"]=b,c.reload()}}]);var pdfFontSize=10,pdfFontFace="helvetica",btEraOptions=Array({id:1,name:{"en-US":"Age of War/Star League","de-DE":"de - Age of War/Star League"},year_start:2400,year_end:2780},{id:2,name:{"en-US":"Succession Wars","de-DE":"de - Succession Wars"},year_start:2781,year_end:3049});battlemechLocations=Array({tag:"hd",rear:!0,name:{"en-US":"Head","de-DE":"de-Head"},abbr:{"en-US":"hd","de-DE":"de-hd"}},{tag:"hdr",rear:!0,name:{"en-US":"Head (Rear)","de-DE":"de-Head (Rear)"},abbr:{"en-US":"hd(r)","de-DE":"de-hd(r)"}},{tag:"rt",rear:!1,name:{"en-US":"Right Torso","de-DE":"de-Right Torso"},abbr:{"en-US":"rt","de-DE":"de-rt"}},{tag:"ct",rear:!1,name:{"en-US":"Center Torso","de-DE":"de-Center Torso"},abbr:{"en-US":"ct","de-DE":"de-ct"}},{tag:"lt",rear:!1,name:{"en-US":"Left Torso","de-DE":"de-Left Torso"},abbr:{"en-US":"lt","de-DE":"de-lt"}},{tag:"rtr",rear:!0,name:{"en-US":"Right Torso (Rear)","de-DE":"de-Right Torso (Rear)"},abbr:{"en-US":"rt(r)","de-DE":"de-rt(r)"}},{tag:"ctr",rear:!0,name:{"en-US":"Center Torso (Rear)","de-DE":"de-Center Torso (Rear)"},abbr:{"en-US":"ct(r)","de-DE":"de-ct(r)"}},{tag:"ltr",rear:!0,name:{"en-US":"Left Torso (Rear)","de-DE":"de-Left Torso (Rear)"},abbr:{"en-US":"lt(r)","de-DE":"de-lt(r)"}},{tag:"ra",rear:!1,name:{"en-US":"Right Arm","de-DE":"de-Right Arm"},abbr:{"en-US":"ra","de-DE":"de-ra"}},{tag:"la",rear:!1,name:{"en-US":"Left Arm","de-DE":"de-Left Arm"},abbr:{"en-US":"la","de-DE":"de-la"}},{tag:"rl",rear:!1,name:{"en-US":"Right Leg","de-DE":"de-Right Leg"},abbr:{"en-US":"rl","de-DE":"de-rl"}},{tag:"ll",rear:!1,name:{"en-US":"Left Leg","de-DE":"de-Left Leg"},abbr:{"en-US":"ll","de-DE":"de-ll"}});var mechClanEquipment=Array(),mechEngineOptions=Array({name:"10",rating:10,weight:{ice:1,cell:1,fission:5,comp:1,standard:.5,light:.5,xl:.5}},{name:"15",rating:15,weight:{ice:1,cell:1,fission:5,comp:1,standard:.5,light:.5,xl:.5}},{name:"20",rating:20,weight:{ice:1,cell:1,fission:5,comp:1,standard:.5,light:.5,xl:.5}},{name:"25",rating:25,weight:{ice:1,cell:1,fission:5,comp:1,standard:.5,light:.5,xl:.5}},{name:"30",rating:30,weight:{ice:2,cell:1.5,fission:5,comp:1.5,standard:1,light:1,xl:.5}},{name:"35",rating:35,weight:{ice:2,cell:1.5,fission:5,comp:1.5,standard:1,light:1,xl:.5}},{name:"40",rating:40,weight:{ice:2,cell:1.5,fission:5,comp:1.5,standard:1,light:1,xl:.5}},{name:"45",rating:45,weight:{ice:2,cell:1.5,fission:5,comp:1.5,standard:1,light:1,xl:.5}},{name:"50",rating:50,weight:{ice:3,cell:2,fission:5,comp:2.5,standard:1.5,light:1.5,xl:1}},{name:"55",rating:55,weight:{ice:3,cell:2,fission:5,comp:2.5,standard:1.5,light:1.5,xl:1}},{name:"60",rating:60,weight:{ice:3,cell:2,fission:5,comp:2.5,standard:1.5,light:1.5,xl:1}},{name:"65",rating:65,weight:{ice:4,cell:2.5,fission:5,comp:3,standard:2,light:1.5,xl:1}},{name:"70",rating:70,weight:{ice:4,cell:2.5,fission:5,comp:3,standard:2,light:1.5,xl:1}},{name:"75",rating:75,weight:{ice:4,cell:2.5,fission:5,comp:3,standard:2,light:1.5,xl:1}},{name:"80",rating:80,weight:{ice:5,cell:3,fission:5,comp:4,standard:2.5,light:2,xl:1.5}},{name:"85",rating:85,weight:{ice:5,cell:3,fission:5,comp:4,standard:2.5,light:2,xl:1.5}},{name:"90",rating:90,weight:{ice:6,cell:4,fission:5.5,comp:4.5,standard:3,light:2.5,xl:1.5}},{name:"95",rating:95,weight:{ice:6,cell:4,fission:5.5,comp:4.5,standard:3,light:2.5,xl:1.5}},{name:"100",rating:100,weight:{ice:6,cell:4,fission:5.5,comp:4.5,standard:3.5,light:2.5,xl:1.5}},{name:"105",rating:105,weight:{ice:7,cell:4.5,fission:6.5,comp:5.5,standard:3.5,light:3,xl:2}},{name:"110",rating:110,weight:{ice:7,cell:4.5,fission:6.5,comp:5.5,standard:3.5,light:3,xl:2}},{name:"115",rating:115,weight:{ice:7,cell:4.5,fission:6.5,comp:5.5,standard:3.5,light:3,xl:2}},{name:"120",rating:120,weight:{ice:8,cell:5,fission:7,comp:6,standard:4,light:3,xl:2}},{name:"125",rating:125,weight:{ice:8,cell:5,fission:7,comp:6,standard:4,light:3,xl:2}},{name:"130",rating:130,weight:{ice:9,cell:5.5,fission:8,comp:7,standard:4.5,light:3.5,xl:2.5}},{name:"135",rating:135,weight:{ice:9,cell:5.5,fission:8,comp:7,standard:4.5,light:3.5,xl:2.5}},{name:"140",rating:140,weight:{ice:10,cell:6,fission:9,comp:7.5,standard:5,light:4,xl:2.5}},{name:"145",rating:145,weight:{ice:10,cell:6,fission:9,comp:7.5,standard:5,light:4,xl:2.5}},{name:"150",rating:150,weight:{ice:11,cell:7,fission:10,comp:8.5,standard:5.5,light:4.5,xl:3}},{name:"155",rating:155,weight:{ice:11,cell:7,fission:10,comp:8.5,standard:5.5,light:4.5,xl:3}},{name:"160",rating:160,weight:{ice:12,cell:7.5,fission:10.5,comp:9,standard:6,light:4.5,xl:3}},{name:"165",rating:165,weight:{ice:12,cell:7.5,fission:10.5,comp:9,standard:6,light:4.5,xl:4}},{name:"170",rating:170,weight:{ice:12,cell:7.5,fission:10.5,comp:9,standard:6,light:4.5,xl:4}},{name:"175",rating:175,weight:{ice:14,cell:8.5,fission:12.5,comp:10,standard:7,light:5.5,xl:3.5}},{name:"180",rating:180,weight:{ice:14,cell:8.5,fission:12.5,comp:10.5,standard:7,light:5.5,xl:3.5}},{name:"185",rating:185,weight:{ice:15,cell:9,fission:13.5,comp:11.5,standard:7.6,light:6,xl:4}},{name:"190",rating:190,weight:{ice:15,cell:9,fission:13.5,comp:11.5,standard:7.5,light:6,xl:4}},{name:"195",rating:195,weight:{ice:16,cell:10,fission:14,comp:12,standard:8,light:6,xl:4}},{name:"200",rating:200,weight:{ice:17,cell:10.5,fission:15,comp:13,standard:8.5,light:6.5,xl:4.5}},{name:"205",rating:205,weight:{ice:17,cell:10.5,fission:15,comp:13,standard:8.5,light:6.5,xl:4.5}},{name:"210",rating:210,weight:{ice:18,cell:11,fission:16,comp:13.5,standard:9,light:7,xl:4.5}},{name:"215",rating:215,weight:{ice:18,cell:11,fission:16,comp:13.5,standard:10,light:7.5,xl:5}},{name:"220",rating:220,weight:{ice:20,cell:12,fission:17.5,comp:15,standard:10,light:7.5,xl:5}},{name:"225",rating:225,weight:{ice:20,cell:12,fission:17.5,comp:15,standard:10,light:7.5,xl:5}},{name:"230",rating:230,weight:{ice:21,cell:13,fission:18.5,comp:16,standard:10.5,light:8,xl:5.5}},{name:"235",rating:235,weight:{ice:22,cell:13.5,fission:19.5,comp:16.5,standard:11,light:8.5,xl:5.5}},{name:"240",rating:240,weight:{ice:23,cell:14,fission:20.5,comp:17.5,standard:11.5,light:9,xl:6}},{name:"245",rating:245,weight:{ice:24,cell:14.5,fission:5,comp:1,standard:.5,light:.5,xl:.5}},{name:"250",rating:250,weight:{ice:25,cell:15,fission:22,comp:19,standard:12.5,light:9.6,xl:6.5}},{name:"255",rating:255,weight:{ice:26,cell:16,fission:23,comp:19.5,standard:13,light:10,xl:6.5}},{name:"260",rating:260,weight:{ice:27,cell:16.5,fission:24,comp:20.5,standard:13.5,light:10.5,xl:7}},{name:"265",rating:265,weight:{ice:28,cell:17,fission:24.5,comp:21,standard:14,light:10.5,xl:7}},{name:"270",rating:270,weight:{ice:29,cell:17.5,fission:25.5,comp:22,standard:14.5,light:11,xl:7.5}},{name:"275",rating:275,weight:{ice:31,cell:19,fission:27.5,comp:23.5,standard:15.5,light:12,xl:8}},{name:"280",rating:280,weight:{ice:32,cell:19.5,fission:28,comp:24,standard:16,light:12,xl:8}},{name:"285",rating:285,weight:{ice:33,cell:20,fission:29,comp:25,standard:16.5,light:12.5,xl:8.5}},{name:"290",rating:290,weight:{ice:35,cell:21,fission:31,comp:26.5,standard:17.5,light:13.5,xl:9}},{name:"295",rating:295,weight:{ice:36,cell:22,fission:31.5,comp:27,standard:18,light:13.5,xl:9}},{name:"300",rating:300,weight:{ice:38,cell:23,fission:33.5,comp:28.5,standard:19,light:15.5,xl:9.5}},{name:"305",rating:305,weight:{ice:39,cell:23.5,fission:34.5,comp:29.5,standard:19.5,light:15,xl:10}},{name:"310",rating:310,weight:{ice:41,cell:25,fission:36,comp:31,standard:20.5,light:15.5,xl:10.5}},{name:"315",rating:315,weight:{ice:43,cell:26,fission:38,comp:32.5,standard:21.5,light:16.5,xl:11}},{name:"320",rating:320,weight:{ice:45,cell:27,fission:39.5,comp:34,standard:22.5,light:17,xl:11.5}},{name:"325",rating:325,weight:{ice:47,cell:28.5,fission:41.5,comp:33.5,standard:23.5,light:18,xl:12}},{name:"330",rating:330,weight:{ice:49,cell:29.5,fission:43,comp:37,standard:24.5,light:18.5,xl:12.5}},{name:"335",rating:335,weight:{ice:51,cell:31,fission:45,comp:38.5,standard:25.5,light:18.5,xl:12.5}},{name:"340",rating:340,weight:{ice:54,cell:32.5,fission:47.5,comp:40.5,standard:27,light:20.5,xl:13.5}},{name:"345",rating:345,weight:{ice:57,cell:34.5,fission:50,comp:40.5,standard:29.5,light:21.5,xl:14.5}},{name:"350",rating:350,weight:{ice:59,cell:35.5,fission:52,comp:44.5,standard:29.5,light:22.5,xl:15}},{name:"355",rating:355,weight:{ice:63,cell:38,fission:55.5,comp:47.5,standard:31.5,light:24,xl:16}},{name:"360",rating:360,weight:{ice:66,cell:40,fission:58,comp:49.5,standard:33,light:25,xl:16.5}},{name:"365",rating:365,weight:{ice:69,cell:41.5,fission:60.5,comp:52,standard:34.5,light:26,xl:17.5}},{name:"370",rating:370,weight:{ice:73,cell:44,fission:64,comp:55,standard:36.5,light:27.5,xl:18.5}},{name:"375",rating:375,weight:{ice:77,cell:46.5,fission:67.5,comp:58,standard:38.5,light:29,xl:19.5}},{name:"380",rating:380,weight:{ice:82,cell:49.5,fission:72,comp:61.5,standard:41,light:31,xl:20.5}},{name:"385",rating:385,weight:{ice:87,cell:52.5,fission:76.5,comp:65.5,standard:43.5,light:33,xl:22}},{name:"390",rating:390,weight:{ice:92,cell:55.5,fission:80.5,comp:69,standard:46,light:34.5,xl:23}},{name:"395",rating:395,weight:{ice:98,cell:59,fission:86,comp:73.5,standard:49,light:37,xl:24.5}},{name:"400",rating:400,weight:{ice:105.5,cell:63,fission:92,comp:79,standard:52.5,light:39.5,xl:26.5}}),mechEngineTypes=Array({name:{"en-US":"Military Fusion (standard)"},tag:"standard",criticals:{is:{ct:6},clan:{ct:6}}},{name:{"en-US":"Exrta-Light Fusion (XL)"},tag:"xl",criticals:{is:{ct:6,lt:3,rt:3},clan:{ct:6,lt:2,rt:2}}},{name:{"en-US":"Light Fusion"},tag:"light",criticals:{is:{ct:6,lt:2,rt:2}}},{name:{"en-US":"Compact Fusion"},tag:"compact",criticals:{is:{ct:3}}}),mechGyroTypes=Array({name:{"en-US":"Standard Gyro"},tag:"standard",weight_multiplier:1,criticals:4},{name:{"en-US":"Extra-light (XL) Gyro"},tag:"xl",weight_multiplier:.5,criticals:6},{name:{"en-US":"Compact Gyro"},tag:"compact",weight_multiplier:1.5,criticals:2},{name:{"en-US":"Heavy Duty Gyro"},tag:"heavy-duty",weight_multiplier:2,criticals:4}),mechISEquipment=Array({name:{"en-US":"Small Laser","de-DE":"de - Small Laser"},tag:"small-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:3,accuracy_modifier:0,cbills:11250,introduced:2300,extinct:0,reintroduced:0,battlevalue:9,ammo_battlevalue:0,heat:1,weight:.5,range_min:{min:0,"short":1,medium:2,"long":3},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"c",book:"TM",page:227,alpha_strike:{heat:1,range_short:.3,range_medium:0,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Medium Laser","de-DE":"de - Medium Laser"},tag:"medium-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:5,accuracy_modifier:0,cbills:4e4,introduced:2300,extinct:0,reintroduced:0,battlevalue:46,ammo_battlevalue:0,heat:3,weight:1,range_min:{min:0,"short":3,medium:6,"long":9},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"c",book:"TM",page:227,alpha_strike:{heat:3,range_short:.5,range_medium:.5,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Large Laser","de-DE":"de - Large Laser"},tag:"large-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:8,accuracy_modifier:0,cbills:1e5,introduced:2316,extinct:0,reintroduced:0,battlevalue:123,ammo_battlevalue:0,heat:8,weight:5,range_min:{min:0,"short":5,medium:10,"long":15},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"c",book:"TM",page:227,alpha_strike:{heat:8,range_short:.8,range_medium:.8,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Binary Lazer Cannon","de-DE":"de - Binary Laser Cannon"},tag:"blazer",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:12,accuracy_modifier:0,cbills:2e5,introduced:2812,extinct:0,reintroduced:0,battlevalue:222,ammo_battlevalue:0,heat:16,weight:9,range_min:{min:0,"short":5,medium:10,"long":15},space:{battlemech:4,protomech:"n/a",combat_vehicle:1,support_vehicle:4,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"c",book:"TO",page:319,alpha_strike:{heat:16,range_short:1.2,range_medium:1.2,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"ER Small Laser","de-DE":"de - ER Small Laser"},tag:"er-small-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:3,accuracy_modifier:0,cbills:11250,introduced:3058,extinct:0,reintroduced:0,battlevalue:17,ammo_battlevalue:0,heat:2,weight:.5,range_min:{min:0,"short":2,medium:4,"long":5},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"e",book:"TM",page:226,alpha_strike:{heat:3,range_short:.3,range_medium:.3,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"ER Medium Laser","de-DE":"de - ER Medium Laser"},tag:"er-medium-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:5,accuracy_modifier:0,cbills:8e4,introduced:3058,extinct:0,reintroduced:0,battlevalue:62,ammo_battlevalue:0,heat:5,weight:1,range_min:{min:0,"short":4,medium:8,"long":12},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"e",book:"TM",page:226,alpha_strike:{heat:5,range_short:.5,range_medium:.5,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"ER Large Laser","de-DE":"de - ER Large Laser"},tag:"large-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:8,accuracy_modifier:0,cbills:2e5,introduced:2620,extinct:2950,reintroduced:3037,battlevalue:163,ammo_battlevalue:0,heat:12,weight:5,range_min:{min:0,"short":7,medium:14,"long":19},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"c",book:"TM",page:226,alpha_strike:{heat:12,range_short:.8,range_medium:.8,range_long:.8,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Small Pulse Laser","de-DE":"de - Small Pulse Laser"},tag:"small-pulse-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:3,accuracy_modifier:-2,cbills:16e3,introduced:2609,extinct:2950,reintroduced:3037,battlevalue:12,ammo_battlevalue:0,heat:2,weight:1,range_min:{min:0,"short":1,medium:2,"long":3},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P","AI"),tech_rating:"e",book:"TM",page:226,alpha_strike:{heat:2,range_short:.33,range_medium:0,range_long:0,range_extreme:0,tc:1,notes:Array("Point Defense")}},{name:{"en-US":"Medium Pulse Laser","de-DE":"de - Medium Pulse Laser"},tag:"medium-pulse-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:6,accuracy_modifier:-2,cbills:6e4,introduced:2609,extinct:2950,reintroduced:3037,battlevalue:48,ammo_battlevalue:0,heat:4,weight:2,range_min:{min:0,"short":2,medium:4,"long":6},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P"),tech_rating:"e",book:"TM",page:226,alpha_strike:{heat:4,range_short:.66,range_medium:.66,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Large Pulse Laser","de-DE":"de - Large Pulse Laser"},tag:"large-pulse-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:9,accuracy_modifier:-2,cbills:175e3,introduced:2609,extinct:2950,reintroduced:3037,battlevalue:119,ammo_battlevalue:0,heat:10,weight:7,range_min:{min:0,"short":3,medium:7,"long":10},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P"),tech_rating:"e",book:"TM",page:226,alpha_strike:{heat:10,range_short:.99,range_medium:.99,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Small X-Pulse Laser","de-DE":"de - Small X-Pulse Laser"},tag:"small-x-pulse-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:3,accuracy_modifier:-2,cbills:31e3,introduced:3057,extinct:0,reintroduced:0,battlevalue:21,ammo_battlevalue:0,heat:3,weight:1,range_min:{min:0,"short":2,medium:4,"long":5},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P","AI"),tech_rating:"e",book:"TO",page:321,alpha_strike:{heat:3,range_short:.33,range_medium:0,range_long:0,range_extreme:0,tc:1,notes:Array("Point Defense")}},{name:{"en-US":"Medium X-Pulse Laser","de-DE":"de - Medium X-Pulse Laser"},tag:"medium-x-pulse-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:6,accuracy_modifier:-2,cbills:11e4,introduced:3057,extinct:0,reintroduced:0,battlevalue:71,ammo_battlevalue:0,heat:6,weight:2,range_min:{min:0,"short":3,medium:6,"long":9},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P"),tech_rating:"e",book:"TO",page:321,alpha_strike:{heat:6,range_short:.66,range_medium:.66,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Large X-Pulse Laser","de-DE":"de - Large X-Pulse Laser"},tag:"large-x-pulse-laser",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:9,accuracy_modifier:-2,cbills:175e3,introduced:2609,extinct:2950,reintroduced:3037,battlevalue:119,ammo_battlevalue:0,heat:10,weight:7,range_min:{min:0,"short":3,medium:7,"long":10},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P"),tech_rating:"e",book:"TO",page:321,alpha_strike:{heat:14,range_short:.99,range_medium:.99,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Small Variable-Speed Pulse Laser","de-DE":"de - Small Variable-Speed Pulse Laser"},tag:"small-vspl",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:{"short":5,medium:4,"long":3,aero_short:4,aero_medium:0,aero_long:0},accuracy_modifier:{"short":-3,medium:-2,"long":-1},cbills:6e4,introduced:3070,extinct:0,reintroduced:0,battlevalue:22,ammo_battlevalue:0,heat:3,weight:2,range_min:{min:0,"short":2,medium:4,"long":6},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P"),tech_rating:"e",book:"TO",page:321,alpha_strike:{heat:3,range_short:.575,range_medium:.378,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Medium Variable-Speed Pulse Laser","de-DE":"de - Medium Variable-Speed Pulse Laser"},tag:"medium-vspl",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:{"short":9,medium:7,"long":5,aero_short:7,aero_medium:0,aero_long:0},accuracy_modifier:{"short":-3,medium:-2,"long":-1},cbills:2e5,introduced:3070,extinct:0,reintroduced:0,battlevalue:56,ammo_battlevalue:0,heat:7,weight:4,range_min:{min:0,"short":2,medium:5,"long":9},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P"),tech_rating:"e",book:"TO",page:321,alpha_strike:{heat:6,range_short:1.035,range_medium:.648,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Large Variable-Speed Pulse Laser","de-DE":"de - Large Variable-Speed Pulse Laser"},tag:"large-vspl",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:{"short":11,medium:9,"long":7,aero_short:10,aero_medium:7,aero_long:0},accuracy_modifier:{"short":-3,medium:-2,"long":-1},cbills:456e3,introduced:3070,extinct:0,reintroduced:0,battlevalue:123,ammo_battlevalue:0,heat:10,weight:9,range_min:{min:0,"short":4,medium:8,"long":15},space:{battlemech:4,protomech:"n/a",combat_vehicle:1,support_vehicle:4,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("P"),tech_rating:"e",book:"TO",page:321,alpha_strike:{heat:14,range_short:1.265,range_medium:.863,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Light PPC","de-DE":"de - Light PPC"},tag:"light-ppc",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:5,accuracy_modifier:0,cbills:15e4,introduced:3067,extinct:0,reintroduced:0,battlevalue:88,ammo_battlevalue:0,heat:5,weight:3,range_min:{min:3,"short":6,medium:12,"long":18},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"e",book:"TM",page:234,alpha_strike:{heat:5,range_short:.375,range_medium:.5,range_long:.5,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"PPC","de-DE":"de - PPC"},tag:"standard-ppc",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:10,accuracy_modifier:0,cbills:2e5,introduced:2460,extinct:0,reintroduced:0,battlevalue:176,ammo_battlevalue:0,heat:10,weight:7,range_min:{min:3,"short":6,medium:12,"long":18},space:{battlemech:3,protomech:"n/a",combat_vehicle:1,support_vehicle:3,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"d",book:"TM",page:234,alpha_strike:{heat:10,range_short:.75,range_medium:1,range_long:1,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Heavy PPC","de-DE":"de - Heavy PPC"},tag:"heavy-ppc",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:15,accuracy_modifier:0,cbills:25e4,introduced:3067,extinct:0,reintroduced:0,battlevalue:317,ammo_battlevalue:0,heat:15,weight:10,range_min:{min:3,"short":6,medium:12,"long":18},space:{battlemech:4,protomech:"n/a",combat_vehicle:1,support_vehicle:4,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"e",book:"TM",page:234,alpha_strike:{heat:15,range_short:1.125,range_medium:1.5,range_long:1.5,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Snub-Nose PPC","de-DE":"de - Snub-Nose PPC"},tag:"snub-nose-ppc",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:{"short":10,medium:8,"long":5,aero_short:10,aero_medium:8,aero_long:0},accuracy_modifier:0,cbills:3e5,introduced:2784,extinct:2790,reintroduced:3067,battlevalue:165,ammo_battlevalue:0,heat:10,weight:6,range_min:{min:0,"short":9,medium:13,"long":15},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"e",book:"TM",page:234,alpha_strike:{heat:10,range_short:1,range_medium:.65,range_long:0,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Extended-Range PPC","de-DE":"de - Extended-Range PPC"},tag:"er-ppc",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:10,accuracy_modifier:0,cbills:3e5,introduced:2751,extinct:2860,reintroduced:3037,battlevalue:229,ammo_battlevalue:0,heat:15,weight:7,range_min:{min:0,"short":7,medium:14,"long":23},space:{battlemech:3,protomech:"n/a",combat_vehicle:1,support_vehicle:3,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:0,min_ammo_tons:1,weapon_type:Array("DE"),tech_rating:"e",book:"TM",page:233,alpha_strike:{heat:15,range_short:1,range_medium:1,range_long:1,range_extreme:0,tc:1,notes:Array()}},{name:{"en-US":"Plasma Rifle","de-DE":"de - Plasma Rifle"},tag:"plasma-rifle",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:10,accuracy_modifier:0,cbills:26e4,introduced:3068,extinct:0,reintroduced:0,battlevalue:210,ammo_battlevalue:26,heat:10,weight:6,range_min:{min:0,"short":5,medium:10,"long":15},space:{battlemech:2,protomech:"n/a",combat_vehicle:1,support_vehicle:2,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:10,min_ammo_tons:1,weapon_type:Array("DE","H"),tech_rating:"e",book:"TM",page:235,alpha_strike:{heat:10,range_short:1,range_medium:1,range_long:0,range_extreme:0,tc:1,notes:Array("Heat")}},{name:{"en-US":"Ammo (Plasma Rifle)","de-DE":"de - Ammo (Plasma Rifle)"},tag:"ammo-plasma-rifle",category:{"en-US":"Ammunition","de-DE":"de - Ammunition"},damage:0,damage_aero:0,accuracy_modifier:0,cbills:1e4,introduced:3068,extinct:0,reintroduced:0,battlevalue:26,heat:0,weight:1,range_min:{min:0,"short":5,medium:10,"long":15},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:10,min_ammo_tons:1,weapon_type:Array("DB","AI"),tech_rating:"e",book:"TM",page:235,alpha_strike:{heat:10,range_short:1,range_medium:1,range_long:0,range_extreme:0,tc:0,notes:Array("Heat")}},{name:{"en-US":"Vehicle Flamer","de-DE":"de - Vehicle Flamer"},tag:"vehicle-flamer",category:{"en-US":"Energy Weapons","de-DE":"de - Energy Weapons"},damage:2,accuracy_modifier:0,cbills:7500,introduced:1950,extinct:0,reintroduced:0,battlevalue:5,ammo_battlevalue:1,heat:3,weight:.5,range_min:{min:0,"short":1,medium:2,"long":3},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:20,min_ammo_tons:1,weapon_type:Array("DE","H"),tech_rating:"b",book:"TM",page:218,alpha_strike:{heat:3,range_short:.2,range_medium:0,range_long:0,range_extreme:0,tc:0,notes:Array("Heat","Point Defense")}},{name:{"en-US":"Machine Gun","de-DE":"de - Machine Gun"},tag:"machine-gun",category:{"en-US":"Ballistic Weapons","de-DE":"de - Ballistic Weapons"},damage:2,damage_aero:2,accuracy_modifier:0,cbills:5e3,introduced:1950,extinct:0,reintroduced:0,battlevalue:5,heat:1,weight:.5,range_min:{min:0,"short":1,medium:2,"long":3},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:200,min_ammo_tons:.5,weapon_type:Array("DB","AI"),tech_rating:"b",book:"TM",page:227,alpha_strike:{heat:0,range_short:0,range_medium:0,range_long:0,range_extreme:0,tc:0,notes:Array()}},{name:{"en-US":"Ammo (Machine Gun)","de-DE":"de - Ammo (Machine Gun)"},tag:"ammo-machine-gun",category:{"en-US":"Ammunition","de-DE":"de - Ammunition"},damage:0,damage_aero:0,accuracy_modifier:0,cbills:1e3,introduced:1950,extinct:0,reintroduced:0,battlevalue:1,heat:1,weight:1,range_min:{min:0,"short":1,medium:2,"long":3},space:{battlemech:1,protomech:"n/a",combat_vehicle:1,support_vehicle:1,aerospace_fighter:1,small_craft:1,drop_ship:1},ammo_per_ton:200,min_ammo_tons:.5,weapon_type:Array("DB","AI"),tech_rating:"b",book:"TM",page:227,alpha_strike:{heat:0,range_short:0,range_medium:0,range_long:0,range_extreme:0,tc:0,notes:Array()}}),mechJumpJetTypes=Array({name:{"en-US":"Standard Jump Jets"},tag:"standard",weight_multiplier:{light:.5,medium:1,heavy:2},criticals:1},{name:{"en-US":"Improved Jump Jets"},tag:"improved",weight_multiplier:{light:1,medium:2,heavy:4},criticals:2}),mechTypeOptions=Array({id:1,"class":"biped",name:{"en-US":"Biped","de-DE":"de-Biped"}},{id:2,"class":"quad",name:{"en-US":"Quad","de-DE":"de-Biped"}}),btTechOptions=Array({id:1,tag:"is",name:{"en-US":"Inner Sphere","de-DE":"de - Inner Sphere"}},{id:2,tag:"clan",name:{"en-US":"Clan","de-DE":"de - Clan"}}),class_dice=function(){};class_dice.prototype={init:function(){this.always_exploding_dice=!1,this.roll_set_count_rolls=[],
this.roll_set_count=0,this.label_no_effect="No Effect",this.label_shaken="Shaken",this.label_shaken_and_a_wound="Shaken and a wound",this.label_shaken_and_x_wounds="Shaken and {raises} wounds",this.label_critical_failure="Critical Failure",this.label_failure="Failure",this.label_success="Success",this.label_success_with_a_raise="Success with a raise",this.label_success_with_x_raises="Success with {raises} raises",this.label_die_roll_number="die roll #",this.label_wild_die_roll_number="wild die roll #",this.label_roll_set_number="Roll Set #",this.label_total_roll="Total Roll",this.success_target_number=4,this.success_base_toughness=5,this.success_armor=1,this.success_weapons_ap=0},roll_die:function(a,b,c){for(a||(a=6),total_roll=0,keep_rolling=1,display_roll="";keep_rolling>0;)roll=Math.floor(Math.random()*a)+1,b>0&&roll==a?keep_rolling=1:keep_rolling=0,display_roll+=roll+", ",total_roll+=roll;if(this.roll_set_count_rolls[this.roll_set_count].base_rolls.push(display_roll),this.roll_set_count_rolls[this.roll_set_count].base_roll_sides.push(a),wild_display_roll="",totalwild_dieRoll=0,keep_rolling=1,c>0)for(a=6;keep_rolling>0;)roll=Math.floor(Math.random()*a)+1,b>0&&roll==a?keep_rolling=1:keep_rolling=0,totalwild_dieRoll+=roll,wild_display_roll+=roll+", ";return this.roll_set_count_rolls[this.roll_set_count].wild_die_rolls.push(wild_display_roll),1==totalwild_dieRoll&&1==total_roll?this.roll_set_count_rolls[this.roll_set_count].critical_failure=1:this.roll_set_count_rolls[this.roll_set_count].critical_failure=0,totalwild_dieRoll>total_roll?totalwild_dieRoll:total_roll},roll_dice:function(a,b){var c=0;number_of_sides=6,a.indexOf("*")>0?wild_die=1:wild_die=0,number_of_sides<2&&(number_of_sides=2),a=a.replace("*",""),explodingDice=0,a.indexOf("d")>-1?(rollNumber=a.substring(0,a.indexOf("d"))/1,number_of_sides=a.substring(a.indexOf("d")+1)/1,this.always_exploding_dice&&(explodingDice=1)):a.indexOf("e")>-1?(explodingDice=1,rollNumber=a.substring(0,a.indexOf("e"))/1,number_of_sides=a.substring(a.indexOf("e")+1)/1):rollNumber=a,rollNumber||(rollNumber=1),number_of_sides||(number_of_sides=6);for(var d=rollNumber+"d"+number_of_sides+": ";rollNumber-- >0;)dieRoll=this.roll_die(number_of_sides,explodingDice,wild_die),c+=dieRoll,d+=dieRoll+",",this.roll_set_count_rolls[this.roll_set_count].total_rolled_dice++;return d=d.substring(0,d.length-1),d+="",c},_parse_bit:function(a){return value=0,a.indexOf("d")>-1?value=this.roll_dice(a,0):a.indexOf("e")>-1?value=this.roll_dice(a,0):value=a/1,value},_parse_roll_set:function(a){if(set_total=0,a=a.replace(/ /g,""),a=a.toLowerCase(),a=a.replace(/\+/g," + "),a=a.replace(/x/g," x "),a=a.replace(/\//g," / "),a=a.replace(/\-/g," - "),a=a.replace(/\)/g," ) "),a=a.replace(/\(/g," ( "),a=a.replace(/\,/g," , "),this.roll_set_count_rolls[this.roll_set_count]={},this.roll_set_count_rolls[this.roll_set_count].base_rolls=[],this.roll_set_count_rolls[this.roll_set_count].wild_die_rolls=[],this.roll_set_count_rolls[this.roll_set_count].base_roll_sides=[],this.roll_set_count_rolls[this.roll_set_count].total_rolled_dice=0,this.roll_set_count_rolls[this.roll_set_count].critical_failure=0,a.indexOf(" ")>0)for(items=a.split(" "),current_function="+",count=0;count<items.length;count++)"+"!=items[count]&&"x"!=items[count]&&"-"!=items[count]&&"/"!=items[count]?"+"==current_function?set_total+=this._parse_bit(items[count])/1:"-"==current_function?set_total-=this._parse_bit(items[count])/1:"x"==current_function?0==set_total?set_total=items[count]/1:set_total=set_total*this._parse_bit(items[count])/1:"/"==current_function&&(set_total=set_total/this._parse_bit(items[count])/1):current_function=items[count];else set_total+=this._parse_bit(a);this.roll_set_count_rolls[this.roll_set_count].total_roll=set_total,this.roll_set_count++},parse_roll:function(a){if(total=0,this.roll_set_count=0,this.roll_set_count_rolls=[],a.indexOf(",")>0)for(parse_roll_items=a.split(","),parse_roll_itemcount=0;parse_roll_itemcount<parse_roll_items.length;parse_roll_itemcount++)total=this._parse_roll_set(parse_roll_items[parse_roll_itemcount]);else total+=this._parse_roll_set(a);return total},display_results:function(a,b){for(html="",results_set_count=0;results_set_count<this.roll_set_count;results_set_count++)for(this.roll_set_count>1&&(results_set_count>0&&(html+="<hr />"),html+="<h4>"+this.label_roll_set_number+(results_set_count+1)+"</h4>"),html+="<h5>"+this.label_total_roll+": "+this.roll_set_count_rolls[results_set_count].total_roll+"</h5>",a&&(html+=this.trait_success_margin(this.roll_set_count_rolls[results_set_count].total_roll,null,results_set_count)+"<br />"),b&&(html+=this.damage_success_margin(this.roll_set_count_rolls[results_set_count].total_roll)+"<br />"),current_roll=0;current_roll<this.roll_set_count_rolls[results_set_count].total_rolled_dice;current_roll++)"undefined"!=typeof this.roll_set_count_rolls[results_set_count].base_rolls[current_roll]&&(html+="<br />"+this.label_die_roll_number+(current_roll+1)+" (d"+this.roll_set_count_rolls[results_set_count].base_roll_sides[current_roll]+"): ",this.roll_set_count_rolls[results_set_count].base_rolls[current_roll]&&(this.roll_set_count_rolls[results_set_count].base_rolls[current_roll].length>2?html+=this.roll_set_count_rolls[results_set_count].base_rolls[current_roll].substring(0,this.roll_set_count_rolls[results_set_count].base_rolls[current_roll].length-2):html+=this.roll_set_count_rolls[results_set_count].base_rolls[current_roll])),"undefined"!=typeof this.roll_set_count_rolls[results_set_count].wild_die_rolls[current_roll]&&(this.roll_set_count_rolls[results_set_count].wild_die_rolls[current_roll].length>0&&(html+="<br />"+this.label_wild_die_roll_number+(current_roll+1)+" (d6): "),this.roll_set_count_rolls[results_set_count].wild_die_rolls[current_roll]&&(this.roll_set_count_rolls[results_set_count].wild_die_rolls[current_roll].length>2?html+=this.roll_set_count_rolls[results_set_count].wild_die_rolls[current_roll].substring(0,this.roll_set_count_rolls[results_set_count].wild_die_rolls[current_roll].length-2):html+=this.roll_set_count_rolls[results_set_count].wild_die_rolls[current_roll]));return html},trait_success_margin:function(a,b,c){return b||(b=this.success_target_number),value=a/1-b/1,html="","undefined"!=typeof c&&this.roll_set_count_rolls[c].critical_failure>0?html+='<span  class="color-red bolded uppercase">'+this.label_critical_failure+"</span>":value<0?html+='<span  class="color-red">'+this.label_failure+"</span>":(raises=Math.floor(value/4),0==raises?html+=this.label_success:1==raises?html+='<span  class="color-green bolded">'+this.label_success_with_a_raise+"</span>":html+='<span  class="color-green bolded uppercase">'+this.label_success_with_x_raises.replace("{raises}",raises)+"</span>"),html},set_result_margins:function(a,b,c,d){this.success_target_number=a,this.success_base_toughness=b,this.success_armor=c,this.success_weapons_ap=d},set_label:function(a,b){return"no_effect"==a?(this.label_no_effect=b,b):"total_roll"==a?(this.label_total_roll=b,b):"shaken"==a?(this.label_shaken=b,b):"shaken_and_a_wound"==a?(this.label_shaken_and_a_wound=b,b):"shaken_and_x_wounds"==a?(this.label_shaken_and_x_wounds=b,b):"critical_failure"==a?(this.label_critical_failure=b,b):"roll_set_number"==a?(this.label_roll_set_number=b,b):"failure"==a?(this.label_failure=b,b):"success"==a?(this.label_success=b,b):"success_with_a_raise"==a?(this.label_success_with_a_raise=b,b):"success_with_x_raises"==a?(this.label_success_with_x_raises=b,b):"die_roll_number"==a?(this.label_die_roll_number=b,b):"wild_die_roll_number"==a?(this.label_wild_die_roll_number=b,b):null},set_always_exploding_dice:function(a){return this.always_exploding_dice=a,this.always_exploding_dice},damage_success_margin:function(a,b,c,d){return b||(b=this.success_base_toughness),c||(c=this.success_armor),d||(d=this.success_weapons_ap),c=c/1-d/1,0>c&&(c=0),target_number=b/1+c/1,value=a/1-target_number/1,html="",value<0?html+="<span>"+this.label_no_effect+"</span>":(raises=Math.floor(value/4),0==raises?html+='<span class="color-orange">'+this.label_shaken+"</span>":1==raises?html+='<span class="color-red">'+this.label_shaken_and_a_wound+"</span>":html+='<span class="color-red bolded uppercase">'+this.label_shaken_and_x_wounds.replace("{raises}",raises)+"</span>"),html}},Mech.prototype._calcAlphaStrike=function(){if(this.alphaStrikeForceStats.make=this.make,this.alphaStrikeForceStats.model=this.model,this.alphaStrikeForceStats.move=2*this.getWalkSpeed(),this.alphaStrikeForceStats.jump_move=2*this.getJumpSpeed(),this.alphaStrikeForceStats.pv=0,this.alphaStrikeForceStats.range_short=0,this.alphaStrikeForceStats.range_medium=0,this.alphaStrikeForceStats.range_long=0,this.alphaStrikeForceStats.range_extreme=0,this.alphaStrikeForceStats.armor=0,this.alphaStrikeForceStats.structure=0,this.alphaStrikeForceStats.skill=4,this.alphaStrikeForceStats.ov=0,this.alphaStrikeForceStats.notes="",this.alphaStrikeForceStats.size_class="",this.alphaStrikeForceStats.size_class_name="",this.alphaStrikeForceStats.special_unit_abilities=Array(),this.alphaStrikeForceStats.heat=0,this.alphaStrikeForceStats.longHeat=0,this.alphaStrikeForceStats.abilityCodes=Array(),this.alphaStrikeForceStats.getAbilityCode=function(a){for(var b=0;b<this.alphaStrikeForceStats.abilityCodes.length;b++)if(a.toLowerCase().trim()==this.alphaStrikeForceStats.abilityCodes[b].toLowerCase().trim())return this.alphaStrikeForceStats.abilityCodes[b];return null},this.alphaStrikeForceStats.addAbilityCode=function(a,b){this.alphaStrikeForceStats.abilityCodes.push({code:a,value:b})},this.calcLogAS="",this.calcLogAS+="Tonnage is "+this.tonnage+"<br />\n",this.tonnage>100?(this.alphaStrikeForceStats.size_class=4,this.alphaStrikeForceStats.size_class_name="Superheavy",this.alphaStrikeForceStats.special_unit_abilities.push("LG"),this.calcLogAS+="<strong>Setting Size to 4 (Superheavy)</strong><br />\n"):this.tonnage>=80?(this.alphaStrikeForceStats.size_class=4,this.alphaStrikeForceStats.size_class_name="Assault",this.calcLogAS+="<strong>Setting Size to 4 (Assault)</strong><br />\n"):this.tonnage>=60?(this.alphaStrikeForceStats.size_class=3,this.alphaStrikeForceStats.size_class_name="Heavy",this.calcLogAS+="<strong>Setting Size to 3 (Heavy)</strong><br />\n"):this.tonnage>=40?(this.alphaStrikeForceStats.size_class=2,this.alphaStrikeForceStats.size_class_name="Medium",this.calcLogAS+="<strong>Setting Size to 2 (Medium)</strong><br />\n"):(this.alphaStrikeForceStats.size_class=1,this.alphaStrikeForceStats.size_class_name="Light",this.calcLogAS+="<strong>Setting Size to 1 (Light)</strong><br />\n"),this.alphaStrikeForceStats.armor=(this.getTotalArmor()/30).toFixed(0),this.calcLogAS+="Converting total armor of "+this.getTotalArmor()+"<br />\n",this.calcLogAS+="<strong>Setting Armor to "+this.alphaStrikeForceStats.armor+"</strong><br />\n","is"==this.getTech().tag)switch(this.engineType.tag){case"compact":100==this.tonnage?this.alphaStrikeForceStats.structure=10:this.tonnage>=95?this.alphaStrikeForceStats.structure=10:this.tonnage>=90?this.alphaStrikeForceStats.structure=10:this.tonnage>=85?this.alphaStrikeForceStats.structure=9:this.tonnage>=80?this.alphaStrikeForceStats.structure=8:this.tonnage>=75?this.alphaStrikeForceStats.structure=8:this.tonnage>=70?this.alphaStrikeForceStats.structure=7:this.tonnage>=65?this.alphaStrikeForceStats.structure=7:this.tonnage>=60?this.alphaStrikeForceStats.structure=7:this.tonnage>=55?this.alphaStrikeForceStats.structure=6:this.tonnage>=50?this.alphaStrikeForceStats.structure=5:this.tonnage>=45?this.alphaStrikeForceStats.structure=5:this.tonnage>=40?this.alphaStrikeForceStats.structure=4:this.tonnage>=35?this.alphaStrikeForceStats.structure=4:this.tonnage>=30?this.alphaStrikeForceStats.structure=3:this.tonnage>=25?this.alphaStrikeForceStats.structure=3:this.tonnage>=20?this.alphaStrikeForceStats.structure=2:this.tonnage>=15?this.alphaStrikeForceStats.structure=2:this.tonnage>=10&&(this.alphaStrikeForceStats.structure=1),this.calcLogAS+="Engine is an IS Compact Engine <strong>setting structure to "+this.alphaStrikeForceStats.structure+"</strong><br />\n";break;case"light":100==this.tonnage?this.alphaStrikeForceStats.structure=5:this.tonnage>=95?this.alphaStrikeForceStats.structure=5:this.tonnage>=90?this.alphaStrikeForceStats.structure=5:this.tonnage>=85?this.alphaStrikeForceStats.structure=5:this.tonnage>=80?this.alphaStrikeForceStats.structure=4:this.tonnage>=75?this.alphaStrikeForceStats.structure=4:this.tonnage>=70?this.alphaStrikeForceStats.structure=4:this.tonnage>=65?this.alphaStrikeForceStats.structure=4:this.tonnage>=60?this.alphaStrikeForceStats.structure=3:this.tonnage>=55?this.alphaStrikeForceStats.structure=3:this.tonnage>=50?this.alphaStrikeForceStats.structure=3:this.tonnage>=45?this.alphaStrikeForceStats.structure=2:this.tonnage>=40?this.alphaStrikeForceStats.structure=2:this.tonnage>=35?this.alphaStrikeForceStats.structure=2:this.tonnage>=30?this.alphaStrikeForceStats.structure=2:this.tonnage>=25?this.alphaStrikeForceStats.structure=1:this.tonnage>=20?this.alphaStrikeForceStats.structure=1:this.tonnage>=15?this.alphaStrikeForceStats.structure=1:this.tonnage>=10&&(this.alphaStrikeForceStats.structure=1),this.calcLogAS+="Engine is an IS Light Engine <strong>setting structure to "+this.alphaStrikeForceStats.structure+"</strong><br />\n";break;default:100==this.tonnage?this.alphaStrikeForceStats.structure=8:this.tonnage>=95?this.alphaStrikeForceStats.structure=8:this.tonnage>=90?this.alphaStrikeForceStats.structure=7:this.tonnage>=85?this.alphaStrikeForceStats.structure=7:this.tonnage>=80?this.alphaStrikeForceStats.structure=6:this.tonnage>=75?this.alphaStrikeForceStats.structure=6:this.tonnage>=70?this.alphaStrikeForceStats.structure=6:this.tonnage>=65?this.alphaStrikeForceStats.structure=5:this.tonnage>=60?this.alphaStrikeForceStats.structure=5:this.tonnage>=55?this.alphaStrikeForceStats.structure=5:this.tonnage>=50?this.alphaStrikeForceStats.structure=4:this.tonnage>=45?this.alphaStrikeForceStats.structure=4:this.tonnage>=40?this.alphaStrikeForceStats.structure=3:this.tonnage>=35?this.alphaStrikeForceStats.structure=3:this.tonnage>=30?this.alphaStrikeForceStats.structure=3:this.tonnage>=25?this.alphaStrikeForceStats.structure=2:this.tonnage>=20?this.alphaStrikeForceStats.structure=2:this.tonnage>=15?this.alphaStrikeForceStats.structure=1:this.tonnage>=10&&(this.alphaStrikeForceStats.structure=1),this.calcLogAS+="Engine is an IS Standard Engine <strong>setting structure to "+this.alphaStrikeForceStats.structure+"</strong><br />\n"}else switch(this.engineType.tag){case"xl":100==this.tonnage?this.alphaStrikeForceStats.structure=5:this.tonnage>=95?this.alphaStrikeForceStats.structure=5:this.tonnage>=90?this.alphaStrikeForceStats.structure=5:this.tonnage>=85?this.alphaStrikeForceStats.structure=5:this.tonnage>=80?this.alphaStrikeForceStats.structure=4:this.tonnage>=75?this.alphaStrikeForceStats.structure=4:this.tonnage>=70?this.alphaStrikeForceStats.structure=4:this.tonnage>=65?this.alphaStrikeForceStats.structure=4:this.tonnage>=60?this.alphaStrikeForceStats.structure=3:this.tonnage>=55?this.alphaStrikeForceStats.structure=3:this.tonnage>=50?this.alphaStrikeForceStats.structure=3:this.tonnage>=45?this.alphaStrikeForceStats.structure=2:this.tonnage>=40?this.alphaStrikeForceStats.structure=2:this.tonnage>=35?this.alphaStrikeForceStats.structure=2:this.tonnage>=30?this.alphaStrikeForceStats.structure=2:this.tonnage>=25?this.alphaStrikeForceStats.structure=1:this.tonnage>=20?this.alphaStrikeForceStats.structure=1:this.tonnage>=15?this.alphaStrikeForceStats.structure=1:this.tonnage>=10&&(this.alphaStrikeForceStats.structure=1),this.calcLogAS+="Engine is a Clan XL Engine <strong>setting structure to "+this.alphaStrikeForceStats.structure+"</strong><br />\n";break;default:100==this.tonnage?this.alphaStrikeForceStats.structure=8:this.tonnage>=95?this.alphaStrikeForceStats.structure=8:this.tonnage>=90?this.alphaStrikeForceStats.structure=7:this.tonnage>=85?this.alphaStrikeForceStats.structure=7:this.tonnage>=80?this.alphaStrikeForceStats.structure=6:this.tonnage>=75?this.alphaStrikeForceStats.structure=6:this.tonnage>=70?this.alphaStrikeForceStats.structure=6:this.tonnage>=65?this.alphaStrikeForceStats.structure=5:this.tonnage>=60?this.alphaStrikeForceStats.structure=5:this.tonnage>=55?this.alphaStrikeForceStats.structure=5:this.tonnage>=50?this.alphaStrikeForceStats.structure=4:this.tonnage>=45?this.alphaStrikeForceStats.structure=4:this.tonnage>=40?this.alphaStrikeForceStats.structure=3:this.tonnage>=35?this.alphaStrikeForceStats.structure=3:this.tonnage>=30?this.alphaStrikeForceStats.structure=3:this.tonnage>=25?this.alphaStrikeForceStats.structure=2:this.tonnage>=20?this.alphaStrikeForceStats.structure=2:this.tonnage>=15?this.alphaStrikeForceStats.structure=1:this.tonnage>=10&&(this.alphaStrikeForceStats.structure=1),this.calcLogAS+="Engine is a Clan Standard Engine <strong>setting structure to "+this.alphaStrikeForceStats.structure+"</strong><br />\n"}var a=0,b=0;for(weapon_counter=0;weapon_counter<this.equipmentList.length;weapon_counter++)this.equipmentList[weapon_counter].alpha_strike&&(this.equipmentList[weapon_counter].alpha_strike.range_long>0&&(b+=this.equipmentList[weapon_counter].alpha_strike.heat),a+=this.equipmentList[weapon_counter].alpha_strike.heat,this.alphaStrikeForceStats.range_short+=this.equipmentList[weapon_counter].alpha_strike.range_short,this.alphaStrikeForceStats.range_medium+=this.equipmentList[weapon_counter].alpha_strike.range_medium,this.alphaStrikeForceStats.range_long+=this.equipmentList[weapon_counter].alpha_strike.range_long,this.alphaStrikeForceStats.range_extreme+=this.equipmentList[weapon_counter].alpha_strike.range_extreme,this.calcLogAS+="Adding Weapon "+this.equipmentList[weapon_counter].tag,this.calcLogAS+=" ("+this.equipmentList[weapon_counter].alpha_strike.range_short+", ",this.calcLogAS+=this.equipmentList[weapon_counter].alpha_strike.range_medium+", ",this.calcLogAS+=this.equipmentList[weapon_counter].alpha_strike.range_long+", ",this.calcLogAS+=this.equipmentList[weapon_counter].alpha_strike.range_extreme+")<br />\n");var c=0;this.getJumpSpeed()>0?(c+=this.getJumpSpeed()<3?3:this.getJumpSpeed(),this.calcLogAS+="<strong>Move Is "+this.alphaStrikeForceStats.move+'"/'+this.alphaStrikeForceStats.jump_move+'"J</strong><br />\n'):(c+=2,this.calcLogAS+="<strong>Move Is "+this.alphaStrikeForceStats.move+'"</strong><br />\n');var d=0;"single"==this.heat_sink_type?d+=1*(10+this.additional_heat_sinks):"double"==this.heat_sink_type&&(d+=2*(10+this.additional_heat_sinks));var e=c+a,f=c+a-d,g=c+b-d,h=this.alphaStrikeForceStats.range_short.toFixed(0)/1,i=this.alphaStrikeForceStats.range_medium.toFixed(0)/1,j=this.alphaStrikeForceStats.range_long.toFixed(0)/1;this.alphaStrikeForceStats.range_extreme.toFixed(0)/1;f>3&&(this.alphaStrikeForceStats.range_short=this.alphaStrikeForceStats.range_short*d/(e-4),this.alphaStrikeForceStats.range_medium=this.alphaStrikeForceStats.range_medium*d/(e-4)),g>4&&(this.alphaStrikeForceStats.range_long=this.alphaStrikeForceStats.range_long*d/(e-4)),this.alphaStrikeForceStats.range_short=this.alphaStrikeForceStats.range_short.toFixed(0)/1,this.alphaStrikeForceStats.range_medium=this.alphaStrikeForceStats.range_medium.toFixed(0)/1,this.alphaStrikeForceStats.range_long=this.alphaStrikeForceStats.range_long.toFixed(0)/1,this.alphaStrikeForceStats.range_extreme=this.alphaStrikeForceStats.range_extreme.toFixed(0)/1;var k=0;k=i-this.alphaStrikeForceStats.range_medium>0?i-this.alphaStrikeForceStats.range_medium:h-this.alphaStrikeForceStats.range_short,k>4&&(k=4);var l=0;j-this.alphaStrikeForceStats.range_long>0&&(l=j-this.alphaStrikeForceStats.range_long),l>4&&(l=4),this.alphaStrikeForceStats.ov=k,this.calcLogAS+="Move Heat: "+c+"<br />\n",this.calcLogAS+="Weapon Heat: "+a+"<br />\n",this.calcLogAS+="Long Weapon Heat: "+b+"<br />\n",this.calcLogAS+="Heat Dissipation: "+d+"<br />\n",this.calcLogAS+="Overheat Value: "+f+"<br />\n",this.calcLogAS+="Long Overheat Value: "+g+"<br />\n",this.calcLogAS+="<strong>Short Damage: "+this.alphaStrikeForceStats.range_short+"</strong><br />\n",this.calcLogAS+="<strong>Medium Damage: "+this.alphaStrikeForceStats.range_medium+"</strong><br />\n",this.calcLogAS+="<strong>Long Damage: "+this.alphaStrikeForceStats.range_long+"</strong><br />\n",this.calcLogAS+="<strong>Extreme Damage: "+this.alphaStrikeForceStats.range_extreme+"</strong><br />\n",this.calcLogAS+="<strong>Final Overheat Value: "+k+"</strong><br />\n",this.calcLogAS+="<strong>Final Long Overheat Value: "+l+"</strong><br />\n",this.alphaStrikeForceStats.pv=0,this.calcLogAS+='<div class="text-center"><strong> - Calculating Point Value - </strong></div>\n',this.calcLogAS+="<strong>Step 1: Determine Unit’s Offensive Value ASC - p138</strong><br />\n";var m=0;m+=this.alphaStrikeForceStats.range_short+this.alphaStrikeForceStats.range_medium+this.alphaStrikeForceStats.range_long+this.alphaStrikeForceStats.range_extreme,this.calcLogAS+="Attack Damage Factor: "+m+" ( "+this.alphaStrikeForceStats.range_short+" + "+this.alphaStrikeForceStats.range_medium+" + "+this.alphaStrikeForceStats.range_long+" + "+this.alphaStrikeForceStats.range_extreme+" )<br />\n",m+=this.alphaStrikeForceStats.size_class/2,this.calcLogAS+="Unit Size Factor: "+this.alphaStrikeForceStats.size_class/2+" ("+this.alphaStrikeForceStats.size_class+" / 2))<br />\n";var n=0;this.alphaStrikeForceStats.ov>1?(m+=1,m+=(this.alphaStrikeForceStats.ov-1)/2,n+=1,n+=(this.alphaStrikeForceStats.ov-1)/2):(m+=this.alphaStrikeForceStats.ov,n+=this.alphaStrikeForceStats.ov),this.calcLogAS+="Overheat Factor: "+n+"<br />\n",this.calcLogAS+="<strong>Step 1a: Apply Blanket Offensive Modifiers ASC - p139</strong><br />\n",this.calcLogAS+="<strong>Step 2: Determine Unit’s Defensive Value ASC - p139</strong><br />\n";var o=0,p=0,q=0;this.alphaStrikeForceStats.move>this.alphaStrikeForceStats.jump_move?(p+=.25*this.alphaStrikeForceStats.move,q=this.alphaStrikeForceStats.move):(p+=.25*this.alphaStrikeForceStats.jump_move,q=this.alphaStrikeForceStats.move),o+=p,this.alphaStrikeForceStats.jump_move>0?(p+=.5,this.calcLogAS+="Movement Factor: "+p+" ("+q+" * .25 + .5)<br />\n"):this.calcLogAS+="Movement Factor: "+p+" ("+q+" * .25)<br />\n",this.calcLogAS+="<strong>Step 2a: Calculating Defensive Interaction Rating (DIR) ASC - p141</strong><br />\n";var r=0;this.calcLogAS+="Armor Factor: "+2*this.alphaStrikeForceStats.armor+" ("+this.alphaStrikeForceStats.armor+" * 2)<br />\n",r+=2*this.alphaStrikeForceStats.armor,this.calcLogAS+="Structure Factor: "+1*this.alphaStrikeForceStats.structure+" ("+this.alphaStrikeForceStats.structure+" * 1)<br />\n",r+=1*this.alphaStrikeForceStats.structure,q>34?(this.calcLogAS+='Defense Factor: +5 (movement 35"+)<br />\n',r+=5):q>18?(this.calcLogAS+='Defense Factor: +4 (movement 19"-34"+)<br />\n',r+=4):q>12?(this.calcLogAS+='Defense Factor: +3 (movement 13"-18"+)<br />\n',r+=3):q>8?(this.calcLogAS+='Defense Factor: +2 (movement 9"-12"+)<br />\n',r+=2):q>4?(this.calcLogAS+='Defense Factor: +1 (movement 4"-8"+)<br />\n',r+=1):(this.calcLogAS+='Defense Factor: +0 (movement 0"-4"+)<br />\n',r+=0),r+=o,this.calcLogAS+="Adding Defense Value from Step 2 above: "+o+"<br />\n",this.calcLogAS+="Total DIR: "+r+"<br />\n",this.calcLogAS+="<strong>Step 3: Determine Unit’s Final Point Value ASC - p141</strong><br />\n",baseFinalValue=m+r,this.calcLogAS+="Base Point Value: "+baseFinalValue+" ("+m+" + "+r+")<br />\n",finalValue=baseFinalValue,q>=6&&10>=q&&0==this.alphaStrikeForceStats.range_medium&&0==this.alphaStrikeForceStats.range_long&&0==this.alphaStrikeForceStats.range_extreme&&(this.calcLogAS+='Unit has 6 to 10" of Move, but only delivers damage at Short range. Point Value * .75<br />\n',this.calcLogAS+="Modified Point Value: "+.75*baseFinalValue+" ("+m+" + "+r+")<br />\n",finalValue=.75*baseFinalValue),q>=2&&5>=q&&0==this.alphaStrikeForceStats.range_medium&&0==this.alphaStrikeForceStats.range_long&&0==this.alphaStrikeForceStats.range_extreme&&(this.calcLogAS+='Unit has 2 to 5" of Move, but only delivers damage at Short range. Point Value * .5<br />\n',this.calcLogAS+="Modified Point Value: "+.5*baseFinalValue+" ("+m+" + "+r+")<br />\n",finalValue=.5*baseFinalValue),q>=2&&5>=q&&0==this.alphaStrikeForceStats.range_long&&0==this.alphaStrikeForceStats.range_extreme&&(this.calcLogAS+='Unit has 2 to 5" of Move, but only delivers damage at Short and Medium ranges. Point Value * .75<br />\n',this.calcLogAS+="Modified Point Value: "+.75*baseFinalValue+" ("+m+" + "+r+")<br />\n",finalValue=.75*baseFinalValue),this.calcLogAS+="Final Point Value: "+finalValue+"<br />\n",this.calcLogAS+="<strong>Step 3a: Add Force Bonuses ASC - p141</strong><br />\n",this.alphaStrikeForceStats.pv=finalValue,this.alphaStrikeValue=Math.round(this.alphaStrikeForceStats.pv)},Mech.prototype._calcBattleValue=function(){this.battleValue=0,this.calcLogBV="TODO"},Mech.prototype._calcCBillCost=function(){this.cbillCost=0,this.calcLogCBill="TODO"},Mech.prototype.getBattleValue=function(){return this.battleValue},Mech.prototype.getAlphaStrikeValue=function(){return this.alphaStrikeValue},Mech.prototype.getCBillCost=function(){return this.cbillCost},Mech.prototype.getEngineWeight=function(){return this.engine&&this.engine.weight?this.engine.weight[this.engineType.tag]:0},Mech.prototype.getEngineRating=function(){return this.engine&&this.engine.rating?this.engine.rating:0},Mech.prototype.getHeatSinks=function(){return 10+this.additional_heat_sinks},Mech.prototype.getHeatSinksWeight=function(){return 0+this.additional_heat_sinks},Mech.prototype.getGyroWeight=function(){return Math.ceil(Math.ceil(this.engine.rating/100)*this.gyro.weight_multiplier)},Mech.prototype.getCockpitWeight=function(){return this.cockpit_weight},Mech.prototype.setCockpitWeight=function(a){return this.cockpit_weight=a,this.cockpit_weight},Mech.prototype.getInteralStructureWeight=function(){return this.tonnage/10},Mech.prototype.getJumpJetWeight=function(){return this.tonnage<=55?this.jumpSpeed*this.jumpJetType.weight_multiplier.light:this.tonnage<=85?this.jumpSpeed*this.jumpJetType.weight_multiplier.medium:this.jumpSpeed*this.jumpJetType.weight_multiplier.heavy},Mech.prototype.getTranslation=function(a){for(lang_count=0;lang_count<available_languages.length;lang_count++)if(available_languages[lang_count].short_code==this.useLang)return available_languages[lang_count].translations[a]?available_languages[lang_count].translations[a]:a},Mech.prototype.getASCalcHTML=function(){return'<div class="mech-tro">'+this.calcLogAS+"</div>"},Mech.prototype.getBVCalcHTML=function(){return'<div class="mech-tro">'+this.calcLogBV+"</div>"},Mech.prototype.getCBillCalcHTML=function(){return'<div class="mech-tro">'+this.calcLogCBill+"</div>"},Mech.prototype.makeTROHTML=function(){for(html='<table class="mech-tro">',html+='<tr><td colspan="4">'+this.getTranslation("TRO_TYPE")+": "+this.getName()+"</td></tr>",html+='<tr><td colspan="4">'+this.getTranslation("TRO_TECHNOLOGY_BASE")+": "+this.getTech().name[this.useLang]+"</td></tr>",html+='<tr><td colspan="4">'+this.getTranslation("TRO_ERA")+": "+this.getEra().name[this.useLang]+"</td></tr>",html+='<tr><td colspan="4">'+this.getTranslation("TRO_TONNAGE")+": "+this.getTonnage()+"</td></tr>",html+='<tr><td colspan="4">'+this.getTranslation("TRO_BATTLE_VALUE")+": "+this.getBattleValue()+"</td></tr>",html+='<tr><td colspan="4">'+this.getTranslation("TRO_ALPHA_STRIKE_VALUE")+": "+this.getAlphaStrikeValue()+"</td></tr>",html+='<tr><td colspan="4">'+this.getTranslation("TRO_CBILL_COST")+": $"+this.getCBillCost()+"</td></tr>",html+='<tr><td colspan="4">&nbsp;</td></tr>',html+='<tr><th class="text-left" colspan="3">'+this.getTranslation("TRO_EQUIPMENT")+'</th><th class="text-center" colspan="1">'+this.getTranslation("TRO_MASS")+"</th></tr>",html+='<tr><td colspan="3">'+this.getTranslation("TRO_INTERNAL_STRUCTURE")+'</td><td class="text-center" colspan="1">'+this.getInteralStructureWeight()+"</td></tr>",html+='<tr><td colspan="1">'+this.getTranslation("TRO_ENGINE")+'</td><td class="text-center" colspan="2">'+this.getEngineRating()+'</td><td class="text-center" colspan="1">'+this.getEngineWeight()+"</td></tr>",html+='<tr><td colspan="1" class="text-right">'+this.getTranslation("TRO_WALKING")+'</td><td class="text-center" colspan="2">'+this.getWalkSpeed()+'</td><td colspan="1">&nbsp;</td></tr>',html+='<tr><td colspan="1" class="text-right">'+this.getTranslation("TRO_RUNNING")+'</td><td class="text-center" colspan="2">'+this.getRunSpeed()+'</td><td colspan="1">&nbsp;</td></tr>',html+='<tr><td colspan="1" class="text-right">'+this.getTranslation("TRO_JUMPING")+'</td><td class="text-center" colspan="2">'+this.getJumpSpeed()+'</td><td colspan="1">&nbsp;</td></tr>',html+='<tr><td colspan="1">'+this.getTranslation("TRO_HEAT_SINKS")+'</td><td class="text-center" colspan="2">'+this.getHeatSinks()+'</td><td class="text-center" colspan="1">'+this.getHeatSinksWeight()+"</td></tr>",html+='<tr><td colspan="3">'+this.getTranslation("TRO_GYRO")+'</td><td class="text-center" colspan="1">'+this.getGyroWeight()+"</td></tr>",this.small_cockpit?html+='<tr><td colspan="3">'+this.getTranslation("TRO_SMALL_COCKPIT")+'</td><td class="text-center" colspan="1">'+this.getCockpitWeight()+"</td></tr>":html+='<tr><td colspan="3">'+this.getTranslation("TRO_COCKPIT")+'</td><td class="text-center" colspan="1">'+this.getCockpitWeight()+"</td></tr>",this.getJumpJetWeight()>0&&(html+='<tr><td colspan="3">'+this.getTranslation("TRO_JUMP_JETS")+'</td><td class="text-center" colspan="1">'+this.getJumpJetWeight()+"</td></tr>"),"biped"==this.mech_type["class"]&&(html+='<tr><td colspan="4">'+this.getTranslation("TRO_ARM_ACTUATORS")+": ",actuator_html="",this.hasLowerArmActuator("ra")&&(actuator_html+=this.getTranslation("TRO_LOWER_RIGHT")+", "),this.hasLowerArmActuator("la")&&(actuator_html+=this.getTranslation("TRO_LOWER_LEFT")+", "),this.hasHandActuator("ra")&&(actuator_html+=this.getTranslation("TRO_RIGHT_HAND")+", "),this.hasHandActuator("la")&&(actuator_html+=this.getTranslation("TRO_LEFT_HAND")+", "),""==actuator_html?actuator_html=this.getTranslation("TRO_NO_LOWER_ARM_ACTUATORS"):actuator_html=actuator_html.substring(0,actuator_html.length-2),html+=actuator_html,html+="</td></tr>"),html+='<tr><td colspan="1">'+this.getTranslation("TRO_ARMOR_FACTOR")+'</td><td class="text-center" colspan="2">'+this.getTotalArmor()+'</td><td class="text-center" colspan="1">'+this.getArmorWeight()+"</td></tr>",html+='<tr><td colspan="1"></td><td class="text-center" colspan="1"><em style="font-size: 12px;">'+this.getTranslation("TRO_ARMOR_IS")+'</em></td><td class="text-center" colspan="1"><em style="font-size: 12px;">'+this.getTranslation("TRO_ARMOR_VALUE")+"</em></td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_HD")+'</td><td class="text-center" colspan="1">'+this.internalStructure.head+'</td><td class="text-center" colspan="1">'+this.armorAllocation.head+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_CT")+'</td><td class="text-center" colspan="1">'+this.internalStructure.centerTorso+'</td><td class="text-center" colspan="1">'+this.armorAllocation.centerTorso+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_CTR")+'</td><td class="text-center" colspan="1">&nbsp;</td><td class="text-center" colspan="1">'+this.armorAllocation.centerTorsoRear+"</td><td>&nbsp;</td></tr>",this.armorAllocation.rightTorso==this.armorAllocation.leftTorso&&this.armorAllocation.rightTorsoRear==this.armorAllocation.leftTorsoRear?(html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RLT")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightTorso+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightTorso+"</td><td>&nbsp;</td></tr>",
html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RLTR")+'</td><td class="text-center" colspan="1">&nbsp;</td><td class="text-center" colspan="1">'+this.armorAllocation.rightTorsoRear+"</td><td>&nbsp;</td></tr>"):(html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RT")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightTorso+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightTorso+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RTR")+'</td><td class="text-center" colspan="1">&nbsp;</td><td class="text-center" colspan="1">'+this.armorAllocation.rightTorsoRear+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_LT")+'</td><td class="text-center" colspan="1">'+this.internalStructure.leftTorso+'</td><td class="text-center" colspan="1">'+this.armorAllocation.leftTorso+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_LTR")+'</td><td class="text-center" colspan="1">&nbsp;</td><td class="text-center" colspan="1">'+this.armorAllocation.leftTorsoRear+"</td><td>&nbsp;</td></tr>"),"biped"==this.mech_type["class"]?(this.armorAllocation.rightArm==this.armorAllocation.leftArm?html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RLA")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightArm+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightArm+"</td><td>&nbsp;</td></tr>":(html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RA")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightArm+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightArm+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_LA")+'</td><td class="text-center" colspan="1">'+this.internalStructure.leftArm+'</td><td class="text-center" colspan="1">'+this.armorAllocation.leftArm+"</td><td>&nbsp;</td></tr>"),this.armorAllocation.rightLeg==this.armorAllocation.leftLeg?html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RLL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightLeg+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightLeg+"</td><td>&nbsp;</td></tr>":(html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightLeg+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightLeg+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_LL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.leftLeg+'</td><td class="text-center" colspan="1">'+this.armorAllocation.leftLeg+"</td><td>&nbsp;</td></tr>")):(this.armorAllocation.rightArm==this.armorAllocation.leftArm?html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RLFL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightArm+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightArm+"</td><td>&nbsp;</td></tr>":(html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RFL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightArm+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightArm+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_LFL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.leftArm+'</td><td class="text-center" colspan="1">'+this.armorAllocation.leftArm+"</td><td>&nbsp;</td></tr>"),this.armorAllocation.rightLeg==this.armorAllocation.leftLeg?html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RLRL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightLeg+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightLeg+"</td><td>&nbsp;</td></tr>":(html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RRL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.rightLeg+'</td><td class="text-center" colspan="1">'+this.armorAllocation.rightLeg+"</td><td>&nbsp;</td></tr>",html+='<tr><td  class="text-right"colspan="1">'+this.getTranslation("TRO_ARMOR_RLL")+'</td><td class="text-center" colspan="1">'+this.internalStructure.leftLeg+'</td><td class="text-center" colspan="1">'+this.armorAllocation.leftLeg+"</td><td>&nbsp;</td></tr>")),html+="</table>",html+="<br />",html+='<table class="mech-tro">',html+='<tr><th class="text-left">'+this.getTranslation("TRO_WEAPONS")+"<br />"+this.getTranslation("TRO_AND_AMMO")+'</th><th class="text-center">'+this.getTranslation("TRO_LOCATION")+'</th><th class="text-center">'+this.getTranslation("TRO_CRITICAL")+'</th><th class="text-center">'+this.getTranslation("TRO_TONNAGE")+"</th></tr>",this.equipmentList.sort(sortByLocationThenName),eq_count=0;eq_count<this.equipmentList.length;eq_count++)"undefined"==typeof this.equipmentList[eq_count].location&&(this.equipmentList[eq_count].location="n/a"),item_location="",item_location=this.getLocationAbbr(this.equipmentList[eq_count].location),html+='<tr><td class="text-left">'+this.equipmentList[eq_count].name[this.useLang]+'</td><td class="text-center">'+item_location.toUpperCase()+'</strong></td><td class="text-center">'+this.equipmentList[eq_count].space.battlemech+'</td><td class="text-center">'+this.equipmentList[eq_count].weight+"</td></tr>";for(var a=0;a<this.validJJLocations.length;a++){for(var b=[],c=0;c<this.criticals[this.validJJLocations[a]["long"]].length;c++)this.criticals[this.validJJLocations[a]["long"]][c]&&this.criticals[this.validJJLocations[a]["long"]][c].tag&&0===this.criticals[this.validJJLocations[a]["long"]][c].tag.indexOf("jj-")&&b.push(this.criticals[this.validJJLocations[a]["long"]][c]);if(b.length>0){var d=0;d=this.tonnage<=55?b.length*this.jumpJetType.weight_multiplier.light:this.tonnage<=85?b.length*this.jumpJetType.weight_multiplier.medium:b.length*this.jumpJetType.weight_multiplier.heavy,html+='<tr><td class="text-left">'+b[0].name+'</td><td class="text-center">'+this.validJJLocations[a]["short"].toUpperCase()+'</strong></td><td class="text-center">'+b.length+'</td><td class="text-center">'+d+"</td></tr>"}}return html+="</table>",html},Mech.prototype.getLocationAbbr=function(a){for(loc_count=0;loc_count<battlemechLocations.length;loc_count++)if(a==battlemechLocations[loc_count].tag)return"undefined"!=battlemechLocations[loc_count].abbr[this.useLang]?battlemechLocations[loc_count].abbr[this.useLang]:battlemechLocations[loc_count].abbr[this.useLang];return this.getTranslation("TRO_NOT_AVAILABLE")},Mech.prototype.clearMech=function(){this.setMechType(1),this.setTonnage(20),this._calc()},Mech.prototype._calc=function(){for(this.max_move_heat=2,this.max_weapon_heat=0,this.heat_dissipation=0,this.weights=Array(),this.weights.push({name:"Internal Structure",weight:this.getInteralStructureWeight()}),this.small_cockpit?(this.setCockpitWeight(2),this.weights.push({name:"Small Cockpit",weight:this.getCockpitWeight()})):(this.setCockpitWeight(3),this.weights.push({name:"Cockpit",weight:this.getCockpitWeight()})),this.runSpeed=Math.ceil(1.5*this.walkSpeed),0==this.era&&(this.era=btEraOptions[1]),0==this.tech&&(this.tech=btTechOptions[0]),0==this.mech_type&&(this.mech_type=mechTypeOptions[0]),this.engine&&(this.weights.push({name:this.engineType.name[this.useLang]+" - "+this.engineType.rating,weight:this.engine.weight[this.engineType.tag]}),this.weights.push({name:this.gyro.name[this.useLang],weight:this.getGyroWeight()})),this.jumpSpeed>0&&(this.max_move_heat=this.jumpSpeed,"Standard"==this.jumpJetType?this.weights.push({name:"Jump Jets",weight:this.getJumpJetWeight()}):this.weights.push({name:"Improved Jets",weight:this.getJumpJetWeight()})),this.total_armor=16*this.armorWeight,this.total_armor>this.max_armor&&(this.total_armor=this.max_armor),this.weights.push({name:"Armor",weight:this.armorWeight}),this.unallocated_armor=this.total_armor,this.unallocated_armor-=this.armorAllocation.head,this.unallocated_armor-=this.armorAllocation.centerTorso,this.unallocated_armor-=this.armorAllocation.leftTorso,this.unallocated_armor-=this.armorAllocation.rightTorso,this.unallocated_armor-=this.armorAllocation.centerTorsoRear,this.unallocated_armor-=this.armorAllocation.leftTorsoRear,this.unallocated_armor-=this.armorAllocation.rightTorsoRear,this.unallocated_armor-=this.armorAllocation.rightArm,this.unallocated_armor-=this.armorAllocation.leftArm,this.unallocated_armor-=this.armorAllocation.rightLeg,this.unallocated_armor-=this.armorAllocation.leftLeg,this.additional_heat_sinks>0&&this.weights.push({name:"Additional Heat Sinks",weight:this.additional_heat_sinks}),eq_count=0;eq_count<this.equipmentList.length;eq_count++)this.weights.push({name:this.equipmentList[eq_count].name+" ("+this.equipmentList[eq_count].location+")",weight:this.equipmentList[eq_count].weight}),this.equipmentList[eq_count]&&(this.max_weapon_heat+=this.equipmentList[eq_count].heat);for(this.current_tonnage=0,weight_counter=0;weight_counter<this.weights.length;weight_counter++)this.current_tonnage+=this.weights[weight_counter].weight;this.remaining_tonnage=this.tonnage-this.current_tonnage,this.heat_sink_criticals={},this.heat_sink_criticals.number=0,this.heat_sink_criticals.slots_type="single slot",this.heat_sink_criticals.slots_each=1,"double"==this.heat_sink_type?("clan"==this.tech.tag?(this.heat_sink_criticals.slots_type="double slot",this.heat_sink_criticals.slots_each=2):(this.heat_sink_criticals.slots_type="triple slot",this.heat_sink_criticals.slots_each=3),this.heat_dissipation=2*(this.additional_heat_sinks+10)):(this.heat_sink_criticals.slots_type="single",this.heat_sink_criticals.slots_each=1,this.heat_dissipation=this.additional_heat_sinks+10),this.getEngine().rating?this.heat_sink_criticals.number=this.additional_heat_sinks+10-Math.floor(this.getEngine().rating/25):this.heat_sink_criticals.number=0,this._calcCriticals(),this._calcAlphaStrike(),this._calcBattleValue(),this._calcCBillCost()},Mech.prototype._calcCriticals=function(){this.criticals.head=Array(6),this.criticals.centerTorso=Array(12),this.criticals.leftTorso=Array(12),this.criticals.rightTorso=Array(12),this.criticals.rightArm=Array(12),this.criticals.leftArm=Array(12),this.criticals.rightLeg=Array(6),this.criticals.leftLeg=Array(6),this.unallocatedCriticals=Array(),this.small_cockpit?(this._addCriticalItem("life-support",this.getTranslation("BM_CRITS_LIFE_SUPPORT"),1,"hd",0),this._addCriticalItem("sensors",this.getTranslation("BM_CRITS_SENSORS"),1,"hd",1),this._addCriticalItem("cockpit",this.getTranslation("BM_CRITS_COCKPIT"),1,"hd",2),this._addCriticalItem("sensors",this.getTranslation("BM_CRITS_SENSORS"),1,"hd",3)):(this._addCriticalItem("life-support",this.getTranslation("BM_CRITS_LIFE_SUPPORT"),1,"hd",0),this._addCriticalItem("sensors",this.getTranslation("BM_CRITS_SENSORS"),1,"hd",1),this._addCriticalItem("cockpit",this.getTranslation("BM_CRITS_COCKPIT"),1,"hd",2),this._addCriticalItem("sensors",this.getTranslation("BM_CRITS_SENSORS"),1,"hd",4),this._addCriticalItem("life-support",this.getTranslation("BM_CRITS_LIFE_SUPPORT"),1,"hd",5)),"quad"==this.mech_type["class"].toLowerCase()?(this._addCriticalItem("hip",this.getTranslation("BM_CRITS_ACTUATOR_HIP"),1,"ra",0),this._addCriticalItem("upper-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_UPPER_LEG"),1,"ra",1),this._addCriticalItem("lower-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_LOWER_LEG"),1,"ra",2),this._addCriticalItem("foot-actuator",this.getTranslation("BM_CRITS_ACTUATOR_FOOT"),1,"ra",3),this._addCriticalItem("hip",this.getTranslation("BM_CRITS_ACTUATOR_HIP"),1,"la",0),this._addCriticalItem("upper-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_UPPER_LEG"),1,"la",1),this._addCriticalItem("lower-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_LOWER_LEG"),1,"la",2),this._addCriticalItem("foot-actuator",this.getTranslation("BM_CRITS_ACTUATOR_FOOT"),1,"la",3)):(this._addCriticalItem("shoulder",this.getTranslation("BM_CRITS_ACTUATOR_SHOULDER"),1,"la",0),this._addCriticalItem("upper-arm-actuator",this.getTranslation("BM_CRITS_ACTUATOR_UPPER_ARM"),1,"la",1),this.hasLowerArmActuator("la")&&(this._addCriticalItem("lower-arm-actuator",this.getTranslation("BM_CRITS_ACTUATOR_LOWER_ARM"),1,"la",2),this.hasHandActuator("la")&&this._addCriticalItem("hand-actuator",this.getTranslation("BM_CRITS_ACTUATOR_HAND"),1,"la",3)),this._addCriticalItem("shoulder",this.getTranslation("BM_CRITS_ACTUATOR_SHOULDER"),1,"ra",0),this._addCriticalItem("upper-arm-actuator",this.getTranslation("BM_CRITS_ACTUATOR_UPPER_ARM"),1,"ra",1),this.hasLowerArmActuator("ra")&&(this._addCriticalItem("lower-arm-actuator",this.getTranslation("BM_CRITS_ACTUATOR_LOWER_ARM"),1,"ra",2),this.hasHandActuator("ra")&&this._addCriticalItem("hand-actuator",this.getTranslation("BM_CRITS_ACTUATOR_HAND"),1,"ra",3))),this.engineType.criticals[this.getTech().tag].ct>3?this._addCriticalItem("engine",this.engineType.name[this.useLang],3,"ct"):this._addCriticalItem("engine",this.engineType.name[this.useLang],this.engineType.criticals[this.getTech().tag].ct,"ct"),this.engineType.criticals.rt&&this._addCriticalItem("engine",this.engineType.name[this.useLang],this.engineType.criticals[this.getTech().tag].rt,"rt"),this.engineType.criticals.lt&&this._addCriticalItem("engine",this.engineType.name[this.useLang],this.engineType.criticals[this.getTech().tag].lt,"lt"),this._addCriticalItem("gyro",this.gyro.name[this.useLang],this.gyro.criticals,"ct"),this.engineType.criticals[this.getTech().tag].ct>3&&this._addCriticalItem("engine",this.engineType.name[this.useLang],this.engineType.criticals[this.getTech().tag].ct-3,"ct"),this._addCriticalItem("hip",this.getTranslation("BM_CRITS_ACTUATOR_HIP"),1,"ll",0),this._addCriticalItem("upper-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_UPPER_LEG"),1,"ll",1),this._addCriticalItem("lower-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_LOWER_LEG"),1,"ll",2),this._addCriticalItem("foot-actuator",this.getTranslation("BM_CRITS_ACTUATOR_FOOT"),1,"ll",3),this._addCriticalItem("hip",this.getTranslation("BM_CRITS_ACTUATOR_HIP"),1,"rl",0),this._addCriticalItem("upper-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_UPPER_LEG"),1,"rl",1),this._addCriticalItem("lower-leg-actuator",this.getTranslation("BM_CRITS_ACTUATOR_LOWER_LEG"),1,"rl",2),this._addCriticalItem("foot-actuator",this.getTranslation("BM_CRITS_ACTUATOR_FOOT"),1,"rl",3),jump_move=this.getJumpSpeed();for(var a=0;a<jump_move;a++)this.unallocatedCriticals.push({name:this.jumpJetType.name[this.useLang],tag:"jj-"+this.jumpJetType.tag,movable:!0,crits:this.jumpJetType.criticals});for(var b=0;b<this.equipmentList.length;b++)this.unallocatedCriticals.push({name:this.equipmentList[b].name[this.useLang]+" ("+this.localizeLocationAbbreviation(this.equipmentList[b].location)+")",tag:this.equipmentList[b].tag,crits:this.equipmentList[b].space.battlemech,obj:this.equipmentList[b],movable:!0});hs_requirements=this.getHeatSinkCriticalRequirements(),hs_requirements.slots_each>1?hs_name=this.getTranslation("BM_CRITS_DOUBLE_HEAT_SINK"):hs_name=this.getTranslation("BM_CRITS_HEAT_SINK");for(var c=0;c<hs_requirements.number;c++)this.unallocatedCriticals.push({name:hs_name,tag:"heat-sink",crits:hs_requirements.slots_each,movable:!0});for(alt_c=0;alt_c<this.criticalAllocationTable.length;alt_c++)this._allocateCritical(this.criticalAllocationTable[alt_c].tag,this.criticalAllocationTable[alt_c].loc,this.criticalAllocationTable[alt_c].slot,!0)},Mech.prototype.hasHandActuator=function(a){return"ra"==a&&this._no_right_arm_hand_actuator?!1:"la"==a&&this._no_left_arm_hand_actuator?!1:!0},Mech.prototype.localizeLocationAbbreviation=function(a){return a},Mech.prototype.hasLowerArmActuator=function(a){return"ra"==a&&this._no_right_arm_lower_actuator?!1:"la"==a&&this._no_left_arm_lower_actuator?!1:!0},Mech.prototype.removeHandActuator=function(a){"ra"==a&&(this._no_right_arm_hand_actuator=!0),"la"==a&&(this._no_left_arm_hand_actuator=!0),this._calc()},Mech.prototype.removeLowerArmActuator=function(a){"ra"==a&&(this._no_right_arm_hand_actuator=!0,this._no_right_arm_lower_actuator=!0),"la"==a&&(this._no_left_arm_hand_actuator=!0,this._no_left_arm_lower_actuator=!0),this._calc()},Mech.prototype.addHandActuator=function(a){"ra"==a&&(this._no_right_arm_hand_actuator=!1,this._no_right_arm_lower_actuator=!1),"la"==a&&(this._no_left_arm_hand_actuator=!1,this._no_left_arm_lower_actuator=!1),this._calc()},Mech.prototype.addLowerArmActuator=function(a){"ra"==a&&(this._no_right_arm_lower_actuator=!1),"la"==a&&(this._no_left_arm_lower_actuator=!1),this._calc()},Mech.prototype._addCriticalItem=function(a,b,c,d,e,f){if(uuid=generateUUID(),"undefined"!=f&&null!=f?item={tag:a,name:b,crits:c,movable:!0,uuid:uuid}:item={tag:a,name:b,crits:c,movable:!1,uuid:uuid},("undefined"==typeof e||null==e)&&(e=null),"undefined"==typeof d||null==d)return item;if("hd"==d)this._assignItemToArea(this.criticals.head,item,c,e);else if("ct"==d)this._assignItemToArea(this.criticals.centerTorso,item,c,e);else if("lt"==d)this._assignItemToArea(this.criticals.leftTorso,item,c,e);else if("rt"==d)this._assignItemToArea(this.criticals.rightTorso,item,c,e);else if("ra"==d)this._assignItemToArea(this.criticals.rightArm,item,c,e);else if("la"==d)this._assignItemToArea(this.criticals.leftArm,item,c,e);else if("rl"==d)this._assignItemToArea(this.criticals.rightLeg,item,c,e);else{if("ll"!=d)return item;this._assignItemToArea(this.criticals.leftLeg,item,c,e)}},Mech.prototype._isNextXCritsAvailable=function(a,b,c){for(returnValue=!0,isca_c=0;isca_c<b;isca_c++)null!=a[c+isca_c]&&(returnValue=!1);return returnValue},Mech.prototype._assignItemToArea=function(a,b,c,d){var e={uuid:b.uuid,name:"placeholder",placeholder:!0};if("undefined"==typeof d||null===d){for(array_count=0;array_count<a.length;array_count++)if(null==a[array_count]&&this._isNextXCritsAvailable(a,c-1,array_count+1)){for(var f=0;c>f;f++)0==f?a[f+array_count]=b:a[f+array_count]=e;return!0}}else if(null==a[d]&&this._isNextXCritsAvailable(a,c-1,d+1)){for(var f=0;c>f;f++)0==f?a[f+d]=b:a[f+d]=e;return!0}return!1},Mech.prototype.canBeAssignedToArea=function(a,b,c,d){if("undefined"==typeof d||null===d){for(array_count=0;array_count<a.length;array_count++)if(null==a[array_count]&&this._isNextXCritsAvailable(a,c-1,array_count+1))return!0}else if(null==a[d]&&this._isNextXCritsAvailable(a,c-1,d+1))return!0;return!1},Mech.prototype.trimCriticals=function(){this.criticals.head=this.criticals.head.slice(0,6),this.criticals.centerTorso=this.criticals.centerTorso.slice(0,12),this.criticals.leftTorso=this.criticals.leftTorso.slice(0,12),this.criticals.rightTorso=this.criticals.rightTorso.slice(0,12),this.criticals.rightLeg=this.criticals.rightLeg.slice(0,6),this.criticals.leftLeg=this.criticals.leftLeg.slice(0,6),"quad"==this.mech_type["class"].toLowerCase()?(this.criticals.rightArm=this.criticals.rightArm.slice(0,6),this.criticals.leftArm=this.criticals.leftArm.slice(0,6)):(this.criticals.rightArm=this.criticals.rightArm.slice(0,12),this.criticals.leftArm=this.criticals.leftArm.slice(0,12))},Mech.prototype.getHeatSinksType=function(){return this.heat_sink_type},Mech.prototype.setHeatSinksType=function(a){return this.heat_sink_type=a,this.heat_sink_type},Mech.prototype.getCurrentTonnage=function(){return this.current_tonnage},Mech.prototype.getHeatSinkCriticalRequirements=function(){return this.heat_sink_criticals},Mech.prototype.getArmorAllocations=function(){return this.armorAllocation},Mech.prototype.getRemainingTonnage=function(){return this.remaining_tonnage},Mech.prototype.getMoveHeat=function(){return this.max_move_heat},Mech.prototype.getWeaponHeat=function(){return this.max_weapon_heat},Mech.prototype.getHeatDissipation=function(){return this.heat_dissipation},Mech.prototype.getWalkSpeed=function(){return this.walkSpeed},Mech.prototype.setWalkSpeed=function(a){return this.walkSpeed=a/1,this.setEngine(this.tonnage*this.walkSpeed),this.jumpSpeed>this.walkSpeed&&this.setJumpSpeed(this.walkSpeed),this.walkSpeed},Mech.prototype.getRunSpeed=function(){return this.runSpeed},Mech.prototype.getJumpSpeed=function(){return this.jumpSpeed},Mech.prototype.setJumpSpeed=function(a){return this.jumpSpeed=a/1,this._calc(),this.walkSpeed},Mech.prototype.getArmorWeight=function(){return this.armorWeight},Mech.prototype.getTotalArmor=function(){return this.total_armor},Mech.prototype.getUnallocatedArmor=function(){return this.unallocated_armor},Mech.prototype.setArmorWeight=function(a){return this.armorWeight=a/1,this._calc(),this.armorWeight},Mech.prototype.getEngine=function(){return this.engine},Mech.prototype.setEngine=function(a){for(a/=1,engine_count=0;engine_count<mechEngineOptions.length;engine_count++)if(mechEngineOptions[engine_count].rating==a)return this.engine=mechEngineOptions[engine_count],this._calc(),this.engine;return this._calc(),0},Mech.prototype.setGyro=function(a){return this.gyro=a,this._calc(),this.gyro},Mech.prototype.getGyro=function(){return this.gyro},Mech.prototype.getEra=function(){return this.era},Mech.prototype.setEra=function(a){for(lcounter=0;lcounter<btEraOptions.length;lcounter++)if(a==btEraOptions[lcounter].id)return this.era=btEraOptions[lcounter],this._calc(),this.era;return null},Mech.prototype.getTech=function(){return this.tech},Mech.prototype.setTech=function(a){for(lcounter=0;lcounter<btTechOptions.length;lcounter++)if(a==btTechOptions[lcounter].id)return this.tech=btTechOptions[lcounter],this._calc(),this.tech;return null},Mech.prototype.getMechType=function(){return this.mech_type},Mech.prototype.setMechType=function(a){for(lcounter=0;lcounter<mechTypeOptions.length;lcounter++)if(a==mechTypeOptions[lcounter].id)return this.mech_type=mechTypeOptions[lcounter],this.setTonnage(this.tonnage),this._calc(),this.mech_type;return null},Mech.prototype.setEngineType=function(a){for(lcounter=0;lcounter<mechEngineTypes.length;lcounter++)if(a.toLowerCase()==mechEngineTypes[lcounter].tag)return this.engineType=mechEngineTypes[lcounter],this._calc(),this.engineType;return this.engineType=a[0],this.engineType},Mech.prototype.getEngineType=function(){return this.engineType},Mech.prototype.getName=function(){return this.make},Mech.prototype.setName=function(a){return this.make=a,this.make},Mech.prototype.getTonnage=function(){return this.tonnage},Mech.prototype.setTonnage=function(a){switch(this.tonnage=parseInt(a),this.tonnage){case 20:this.internalStructure.head=3,this.internalStructure.centerTorso=6,this.internalStructure.leftTorso=5,this.internalStructure.rightTorso=5,this.internalStructure.rightArm=3,this.internalStructure.leftArm=3,this.internalStructure.rightLeg=4,this.internalStructure.leftLeg=4,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=69:this.max_armor=73;break;case 25:this.internalStructure.head=3,this.internalStructure.centerTorso=8,this.internalStructure.leftTorso=6,this.internalStructure.rightTorso=6,this.internalStructure.rightArm=4,this.internalStructure.leftArm=4,this.internalStructure.rightLeg=6,this.internalStructure.leftLeg=6,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=89:this.max_armor=97;break;case 30:this.internalStructure.head=3,this.internalStructure.centerTorso=10,this.internalStructure.leftTorso=7,this.internalStructure.rightTorso=7,this.internalStructure.rightArm=5,this.internalStructure.leftArm=5,this.internalStructure.rightLeg=7,this.internalStructure.leftLeg=7,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=105:this.max_armor=113;break;case 35:this.internalStructure.head=3,this.internalStructure.centerTorso=11,this.internalStructure.leftTorso=8,this.internalStructure.rightTorso=8,this.internalStructure.rightArm=6,this.internalStructure.leftArm=6,this.internalStructure.rightLeg=8,this.internalStructure.leftLeg=8,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=119:this.max_armor=127;break;case 40:this.internalStructure.head=3,this.internalStructure.centerTorso=12,this.internalStructure.leftTorso=10,this.internalStructure.rightTorso=10,this.internalStructure.rightArm=6,this.internalStructure.leftArm=6,this.internalStructure.rightLeg=10,this.internalStructure.leftLeg=10,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=137:this.max_armor=153;break;case 45:this.internalStructure.head=3,this.internalStructure.centerTorso=14,this.internalStructure.leftTorso=11,this.internalStructure.rightTorso=11,this.internalStructure.rightArm=7,this.internalStructure.leftArm=7,this.internalStructure.rightLeg=11,this.internalStructure.leftLeg=11,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=153:this.max_armor=169;break;case 50:this.internalStructure.head=3,this.internalStructure.centerTorso=16,this.internalStructure.leftTorso=12,this.internalStructure.rightTorso=12,this.internalStructure.rightArm=8,this.internalStructure.leftArm=8,this.internalStructure.rightLeg=12,this.internalStructure.leftLeg=12,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=169:this.max_armor=185;break;case 55:this.internalStructure.head=3,this.internalStructure.centerTorso=18,this.internalStructure.leftTorso=13,this.internalStructure.rightTorso=13,this.internalStructure.rightArm=9,this.internalStructure.leftArm=9,this.internalStructure.rightLeg=13,this.internalStructure.leftLeg=13,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=285:this.max_armor=201;break;case 60:this.internalStructure.head=3,this.internalStructure.centerTorso=20,this.internalStructure.leftTorso=14,this.internalStructure.rightTorso=14,this.internalStructure.rightArm=10,this.internalStructure.leftArm=10,this.internalStructure.rightLeg=14,this.internalStructure.leftLeg=14,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=201:this.max_armor=217;break;case 65:this.internalStructure.head=3,this.internalStructure.centerTorso=21,this.internalStructure.leftTorso=15,this.internalStructure.rightTorso=15,this.internalStructure.rightArm=10,this.internalStructure.leftArm=10,this.internalStructure.rightLeg=15,this.internalStructure.leftLeg=15,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=211:this.max_armor=231;break;case 70:this.internalStructure.head=3,this.internalStructure.centerTorso=22,this.internalStructure.leftTorso=15,this.internalStructure.rightTorso=15,this.internalStructure.rightArm=11,this.internalStructure.leftArm=11,this.internalStructure.rightLeg=15,this.internalStructure.leftLeg=15,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=213:this.max_armor=233;break;case 75:this.internalStructure.head=3,this.internalStructure.centerTorso=23,this.internalStructure.leftTorso=16,this.internalStructure.rightTorso=16,this.internalStructure.rightArm=12,this.internalStructure.leftArm=12,this.internalStructure.rightLeg=16,this.internalStructure.leftLeg=16,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=231:this.max_armor=247;break;case 80:this.internalStructure.head=3,this.internalStructure.centerTorso=25,this.internalStructure.leftTorso=17,this.internalStructure.rightTorso=17,this.internalStructure.rightArm=13,this.internalStructure.leftArm=13,this.internalStructure.rightLeg=17,this.internalStructure.leftLeg=17,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=247:this.max_armor=263;break;case 85:this.internalStructure.head=3,this.internalStructure.centerTorso=27,this.internalStructure.leftTorso=18,this.internalStructure.rightTorso=18,this.internalStructure.rightArm=14,this.internalStructure.leftArm=14,this.internalStructure.rightLeg=18,this.internalStructure.leftLeg=18,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=263:this.max_armor=279;break;case 90:this.internalStructure.head=3,this.internalStructure.centerTorso=29,this.internalStructure.leftTorso=19,this.internalStructure.rightTorso=19,this.internalStructure.rightArm=15,this.internalStructure.leftArm=15,this.internalStructure.rightLeg=19,this.internalStructure.leftLeg=19,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=279:this.max_armor=295;break;case 95:this.internalStructure.head=3,this.internalStructure.centerTorso=30,this.internalStructure.leftTorso=20,this.internalStructure.rightTorso=20,this.internalStructure.rightArm=16,this.internalStructure.leftArm=16,this.internalStructure.rightLeg=20,this.internalStructure.leftLeg=20,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=293:this.max_armor=309;break;case 100:this.internalStructure.head=3,this.internalStructure.centerTorso=31,this.internalStructure.leftTorso=21,this.internalStructure.rightTorso=21,this.internalStructure.rightArm=17,this.internalStructure.leftArm=17,this.internalStructure.rightLeg=21,this.internalStructure.leftLeg=21,"biped"==this.mech_type["class"].toLowerCase()?this.max_armor=307:this.max_armor=323}return"quad"==this.mech_type["class"].toLowerCase()&&(this.internalStructure.rightArm=this.internalStructure.rightLeg,this.internalStructure.leftArm=this.internalStructure.leftLeg),this.max_armor_tonnage=this.max_armor/16,this.setWalkSpeed(this.walkSpeed),this._calc(),this.tonnage},Mech.prototype.getMaxArmorTonnage=function(){return this.max_armor_tonnage},Mech.prototype.getMaxArmor=function(){return this.max_armor},Mech.prototype.getType=function(){return this.mech_type},Mech.prototype.setType=function(a){return this.mech_type=a,this.setTonnage(this.tonnage),this._calc(),this.mech_type},Mech.prototype.exportJSON=function(){this._calc();var a={};for(a.name=this.getName(),a.tonnage=this.getTonnage(),a.walkSpeed=this.walkSpeed,a.jumpSpeed=this.jumpSpeed,a.engineType=this.getEngineType().tag,a.mech_type=this.mech_type.id,a.era=this.era.id,a.tech=this.tech.id,a.additional_heat_sinks=this.additional_heat_sinks,a.heat_sink_type=this.heat_sink_type,a.armor_weight=this.armorWeight,this.uuid||(this.uuid=generateUUID()),a.uuid=this.uuid,a.armor_allocation=this.armorAllocation,a.equipment=Array(),eq_count=0;eq_count<this.equipmentList.length;eq_count++)a.equipment.push({tag:this.equipmentList[eq_count].tag,loc:this.equipmentList[eq_count].location});return a.allocation=this.criticalAllocationTable,a.features=Array(),this.hasLowerArmActuator("la")||a.features.push("no_lala"),this.hasLowerArmActuator("ra")||a.features.push("no_rala"),this.hasHandActuator("la")||a.features.push("no_laha"),this.hasHandActuator("ra")||a.features.push("no_raha"),this.small_cockpit&&a.features.push("sm_cockpit"),JSON.stringify(a)},Mech.prototype.getInteralStructure=function(){return this.internalStructure},Mech.prototype.importJSON=function(a){if(import_object=JSON.parse(a),"object"==typeof import_object){if(this.setName(import_object.name),import_object.mech_type&&this.setMechType(import_object.mech_type),this.setTonnage(import_object.tonnage),import_object.walkSpeed&&this.setWalkSpeed(import_object.walkSpeed),import_object.jumpSpeed&&this.setJumpSpeed(import_object.jumpSpeed),import_object.engineType&&this.setEngineType(import_object.engineType),import_object.additional_heat_sinks&&this.setAdditionalHeatSinks(import_object.additional_heat_sinks),import_object.heat_sink_type&&this.setHeatSinksType(import_object.heat_sink_type),import_object.era&&this.setEra(import_object.era),import_object.tech&&this.setTech(import_object.tech),import_object.armor_weight&&this.setArmorWeight(import_object.armor_weight),import_object.armor_allocation&&(this.armorAllocation=import_object.armor_allocation),import_object.uuid&&(this.uuid=import_object.uuid),import_object.features&&(import_object.features.indexOf("no_rala")>-1&&this.removeLowerArmActuator("ra"),import_object.features.indexOf("no_lala")>-1&&this.removeLowerArmActuator("la"),import_object.features.indexOf("no_raha")>-1&&this.removeHandActuator("ra"),
import_object.features.indexOf("no_laha")>-1&&this.removeHandActuator("la"),import_object.features.indexOf("sm_cockpit")>-1&&(this.small_cockpit=!0)),import_object.equipment)for(eq_count=0;eq_count<import_object.equipment.length;eq_count++)import_item=import_object.equipment[eq_count],this.addEquipmentFromTag(import_item.tag,this.getTech().tag,import_item.loc);return import_object.allocation&&(this.criticalAllocationTable=import_object.allocation),!this.useLang&&localStorage["tmp.preferred_language"]&&(this.useLang=localStorage["tmp.preferred_language"]),this._calc(),!0}return!1},Mech.prototype.getWeightBreakdown=function(){return this.weights},Mech.prototype.setCenterTorsoArmor=function(a){return this.armorAllocation.centerTorso=a/1,this._calc(),this.armorAllocation.centerTorso},Mech.prototype.setCenterTorsoRearArmor=function(a){return this.armorAllocation.centerTorsoRear=a/1,this._calc(),this.armorAllocation.centerTorsoRear},Mech.prototype.setHeadArmor=function(a){return this.armorAllocation.head=a/1,this._calc(),this.armorAllocation.head},Mech.prototype.setLeftArmArmor=function(a){return this.armorAllocation.leftArm=a/1,this._calc(),this.armorAllocation.leftArm},Mech.prototype.setLeftLegArmor=function(a){return this.armorAllocation.leftLeg=a/1,this._calc(),this.armorAllocation.leftLeg},Mech.prototype.setLeftTorsoArmor=function(a){return this.armorAllocation.leftTorso=a/1,this._calc(),this.armorAllocation.leftTorso},Mech.prototype.setLeftTorsoRearArmor=function(a){return this.armorAllocation.leftTorsoRear=a/1,this._calc(),this.armorAllocation.leftTorsoRear},Mech.prototype.setRightArmArmor=function(a){return this.armorAllocation.rightArm=a/1,this._calc(),this.armorAllocation.rightArm},Mech.prototype.setRightLegArmor=function(a){return this.armorAllocation.rightLeg=a/1,this._calc(),this.armorAllocation.rightLeg},Mech.prototype.setRightTorsoArmor=function(a){return this.armorAllocation.rightTorso=a/1,this._calc(),this.armorAllocation.rightTorso},Mech.prototype.setRightTorsoRearArmor=function(a){return this.armorAllocation.rightTorsoRear=a/1,this._calc(),this.armorAllocation.rightTorsoRear},Mech.prototype.getAdditionalHeatSinks=function(){return this.additional_heat_sinks},Mech.prototype.addEquipment=function(a,b,c){return equipment_list=Array(),"is"==b&&(equipment_list=mechISEquipment),"clan"==b&&(equipment_list=mechClanEquipment),equipment_list[a]?("undefined"!=typeof jQuery&&(equipment_item=jQuery.extend({},equipment_list[a])),"undefined"!=typeof angular&&(equipment_item=angular.copy(equipment_list[add_counter])),"undefined"!=typeof c&&(equipment_item.location=c),this.equipmentList.push(equipment_item),equipment_item):null},Mech.prototype.addEquipmentFromTag=function(a,b,c){for(equipment_list=Array(),b||(b=this.tech.tag),"is"==b&&(equipment_list=mechISEquipment),"clan"==b&&(equipment_list=mechClanEquipment),add_counter=0;add_counter<equipment_list.length;add_counter++)if(a==equipment_list[add_counter].tag)return"undefined"!=typeof jQuery&&(equipment_item=jQuery.extend({},equipment_list[equipment_index])),"undefined"!=typeof angular&&(equipment_item=angular.copy(equipment_list[add_counter])),"undefined"!=typeof c&&(equipment_item.location=c),this.equipmentList.push(equipment_item),equipment_item;return null},Mech.prototype.removeEquipment=function(a){return this.equipmentList[a]?(this.equipmentList.splice(a,1),1):null},Mech.prototype.updateCriticalAllocationTable=function(){this.criticalAllocationTable=Array();for(mech_location in this.criticals)for(crit_item_counter=0;crit_item_counter<this.criticals[mech_location].length;crit_item_counter++)this.criticals[mech_location]&&this.criticals[mech_location][crit_item_counter]&&this.criticals[mech_location][crit_item_counter].movable&&(short_loc="","head"==mech_location?short_loc="hd":"centerTorso"==mech_location?short_loc="ct":"rightTorso"==mech_location?short_loc="rt":"rightLeg"==mech_location?short_loc="rl":"rightArm"==mech_location?short_loc="ra":"leftTorso"==mech_location?short_loc="lt":"leftLeg"==mech_location?short_loc="ll":"leftArm"==mech_location&&(short_loc="la"),this.criticals[mech_location][crit_item_counter]&&this.criticals[mech_location][crit_item_counter].obj&&(this.criticals[mech_location][crit_item_counter].obj.location=short_loc),this.criticalAllocationTable.push({tag:this.criticals[mech_location][crit_item_counter].tag,loc:short_loc,slot:crit_item_counter}))},Mech.prototype.moveCritical=function(a,b,c,d,e){if(fromItem=null,fromLocationObj=null,"un"==b?(this.unallocatedCriticals[c]&&(fromItem=this.unallocatedCriticals[c]),fromLocationObj=this.unallocatedCriticals):"hd"==b?this.criticals.head[c]&&(fromItem=this.criticals.head[c],fromLocationObj=this.criticals.head):"ct"==b?this.criticals.centerTorso[c]&&(fromItem=this.criticals.centerTorso[c],fromLocationObj=this.criticals.centerTorso):"rt"==b?this.criticals.rightTorso[c]&&(fromItem=this.criticals.rightTorso[c],fromLocationObj=this.criticals.rightTorso):"ra"==b?this.criticals.rightArm[c]&&(fromItem=this.criticals.rightArm[c],fromLocationObj=this.criticals.rightArm):"rl"==b?this.criticals.rightLeg[c]&&(fromItem=this.criticals.rightLeg[c],fromLocationObj=this.criticals.rightLeg):"lt"==b?this.criticals.leftTorso[c]&&(fromItem=this.criticals.leftTorso[c],fromLocationObj=this.criticals.leftTorso):"la"==b?this.criticals.leftArm[c]&&(fromItem=this.criticals.leftArm[c],fromLocationObj=this.criticals.leftArm):"ll"==b&&this.criticals.leftLeg[c]&&(fromItem=this.criticals.leftLeg[c],fromLocationObj=this.criticals.leftLeg),fromItem){if("hd"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.head,e);if("ct"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.centerTorso,e);if("rt"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.rightTorso,e);if("rl"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.rightLeg,e);if("ra"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.rightArm,e);if("lt"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.leftTorso,e);if("ll"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.leftLeg,e);if("la"==d)return this._moveItemToArea(fromLocationObj,fromItem,c,this.criticals.leftArm,e)}return!1},Mech.prototype._moveItemToArea=function(a,b,c,d,e){var f={uuid:b.uuid,name:"placeholder",placeholder:!0};if(hasSpace=!0,d.length<e+b.crits)return!1;for(var g=0;g<b.crits;g++)d[e+g]&&(hasSpace=!1);if(hasSpace){d[e]=b;for(var h=1;h<d[e].crits;h++)d[e+h]=f;for(a[c]=null,nextCounter=1;a[c+nextCounter]&&"placeholder"==a[c+nextCounter].name&&nextCounter<a.length;)a[c+nextCounter]=null,nextCounter++;return!0}return!1},Mech.prototype._allocateCritical=function(a,b,c,d){for(uaet_c=0;uaet_c<this.unallocatedCriticals.length;uaet_c++)if(a==this.unallocatedCriticals[uaet_c].tag)return this.unallocatedCriticals[uaet_c]&&this.unallocatedCriticals[uaet_c].obj&&(this.unallocatedCriticals[uaet_c].obj.location=b),"hd"==b?this._assignItemToArea(this.criticals.head,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c):"ct"==b?this._assignItemToArea(this.criticals.centerTorso,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c):"rt"==b?this._assignItemToArea(this.criticals.rightTorso,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c):"rl"==b?this._assignItemToArea(this.criticals.rightLeg,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c):"ra"==b?this._assignItemToArea(this.criticals.rightArm,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c):"lt"==b?this._assignItemToArea(this.criticals.leftTorso,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c):"ll"==b?this._assignItemToArea(this.criticals.leftLeg,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c):"la"==b&&this._assignItemToArea(this.criticals.leftArm,this.unallocatedCriticals[uaet_c],this.unallocatedCriticals[uaet_c].crits,c),d&&this.unallocatedCriticals.splice(uaet_c,1),!0;return null},Mech.prototype.clearHeatSinkCriticals=function(){for(alloc_c=this.criticalAllocationTable.length;alloc_c>=0;alloc_c--)this.criticalAllocationTable[alloc_c]&&"heat-sink"==this.criticalAllocationTable[alloc_c].tag&&this.criticalAllocationTable.splice(alloc_c,1);this._calc()},Mech.prototype.clearArmCriticalAllocationTable=function(){for(alloc_c=this.criticalAllocationTable.length;alloc_c>=0;alloc_c--)(this.criticalAllocationTable[alloc_c]&&"ra"==this.criticalAllocationTable[alloc_c].loc||this.criticalAllocationTable[alloc_c]&&"la"==this.criticalAllocationTable[alloc_c].loc)&&this.criticalAllocationTable.splice(alloc_c,1);this._calc()},Mech.prototype.clearCriticalAllocationTable=function(){this.criticalAllocationTable=Array(),this._calc()},Mech.prototype.setEquipmentLocation=function(a,b){return this.equipmentList[a]?(this.equipmentList[a].location=b,this.equipmentList[a]):null},Mech.prototype.setAdditionalHeatSinks=function(a){return this.additional_heat_sinks=a/1,this._calc(),this.additional_heat_sinks},Mech.prototype.getUnallocatedCritCount=function(){return this.unallocatedCriticals.length},Mech.prototype.getInstalledEquipment=function(){return this.equipmentList};var asBuilderArray=["$rootScope","$translate","$scope","$http","$location",function(a,b,c,d,e){if(a.showSciFiCreatorMenu=!1,a.showChargenMenu=!1,b(["APP_TITLE","WELCOME_BUTTON_ALPHA_STRIKE"]).then(function(b){a.title_tag=b.WELCOME_BUTTON_ALPHA_STRIKE+" | "+b.APP_TITLE,a.subtitle_tag=b.WELCOME_BUTTON_ALPHA_STRIKE}),localStorage.backToPath=e.$$path,c.addToOptions=Array(),c.activeView=!1,c.rulesFilter="Standard",c.techFilter="Inner Sphere",c.favoriteGroups=Array(),c.addToGroup=null,c.setRulesFilter=function(a){c.rulesFilter=a,c.updateMULList()},c.setTechFilter=function(a){c.techFilter=a,c.updateMULList()},c.updateMemberCounts=function(){for(f=0;f<c.currentLances.length;f++)c.currentLances[f].getActiveMembers()},c.addFavoriteUnit=function(a,b,e){"undefined"==typeof e&&(e=c.addToGroup.id/1),addUnitInfo=c.favoriteGroups[a].members[b],console.log("addFavoriteUnit TODO:",addUnitInfo);var f=addUnitInfo.currentSkill,g=addUnitInfo.customName;c.pleaseWait=!0;var h="https://masterunitlist.azurewebsites.net/Unit/QuickDetails/"+addUnitInfo.mulID+"/";d.get(h).then(function(a){foundMULItem=a.data,c.pleaseWait=!1,c.currentLances[e].members.push(new asUnit(foundMULItem)),c.currentLances[e].members[c.currentLances[e].members.length-1].setSkill(f),c.currentLances[e].members[c.currentLances[e].members.length-1].customName=g,c.saveToLS(),c.tempFavCurrentSkill=null,c.tempFavCustomName=null})["catch"](function(a){c.pleaseWait=!1,alert("There was an error retreiving from the MUL. (Are you online?)")})},c.addFavoriteGroup=function(a){var b=new asGroup;b.customName=c.favoriteGroups[a].customName,this.currentLances.push(b);for(var d=0;d<c.favoriteGroups[a].members.length;d++)c.addFavoriteUnit(a,d,this.currentLances.length-1)},c.filterMechRules=function(){for(mechCounter=c.foundMULItems.Units.length-1;mechCounter>-1;mechCounter--)switch(c.rulesFilter){case"Introductory":"Introductory"!=c.foundMULItems.Units[mechCounter].Rules&&c.foundMULItems.Units.splice(mechCounter,1);break;case"Standard":"Introductory"!=c.foundMULItems.Units[mechCounter].Rules&&"Standard"!=c.foundMULItems.Units[mechCounter].Rules&&c.foundMULItems.Units.splice(mechCounter,1);break;case"Advanced":"Introductory"!=c.foundMULItems.Units[mechCounter].Rules&&"Standard"!=c.foundMULItems.Units[mechCounter].Rules&&"Advanced"!=c.foundMULItems.Units[mechCounter].Rules&&c.foundMULItems.Units.splice(mechCounter,1)}},c.changeSkillValues=function(a){console.log(a),c.viewingLance.members[c.viewingMechIndex].setSkill(a),c.saveToLS()},c.filterMechTech=function(){for(mechCounter=c.foundMULItems.Units.length-1;mechCounter>-1;mechCounter--)switch(c.techFilter){case"Inner Sphere":"Inner Sphere"!=c.foundMULItems.Units[mechCounter].Technology.Name&&c.foundMULItems.Units.splice(mechCounter,1);break;case"Clan":"Clan"!=c.foundMULItems.Units[mechCounter].Technology.Name&&c.foundMULItems.Units.splice(mechCounter,1)}},c.updateMULList=function(){c.currentSearch.length>=3&&(c.foundMULItems=Array(),c.pleaseWait=!0,d.get("https://masterunitlist.azurewebsites.net/Unit/QuickList?MinPV=1&MaxPV=999&Name="+c.currentSearch).then(function(a){c.foundMULItems=a.data,c.filterMechRules(),c.filterMechTech(),c.pleaseWait=!1})["catch"](function(a){c.pleaseWait=!1,alert("There was an error retreiving from the MUL. Are you online?")})),c.saveToLS()},c.searchOnEnter=function(a){13==a.keyCode&&c.updateMULList()},c.saveToLS=function(){localStorage.as_builder_current_search=c.currentSearch,localStorage.as_builder_current_rules=c.rulesFilter,localStorage.as_builder_current_tech=c.techFilter,localStorage.as_builder_current_lances=JSON.stringify(c.currentLances),localStorage.as_builder_favorites=JSON.stringify(c.favoriteGroups),c.updateMemberCounts(),c.forceTotalPoints=0,c.totalCount=0;for(var a=0;a<c.currentLances.length;a++)c.totalCount+=c.currentLances[a].members.length,c.forceTotalPoints+=c.currentLances[a].groupPoints;c.totalGroups=c.currentLances.length,c.makeAddToOptions()},c.makeAddToOptions=function(){c.addToOptions=Array(),b(["GENERAL_GROUP"]).then(function(a){groupName=a.GENERAL_GROUP,c.addToOptions=Array();for(var b=0;b<c.currentLances.length;b++)""!=c.currentLances[b].customName?c.addToOptions.push({id:b,label:c.currentLances[b].customName+" (Group "+(b+1)+")"}):c.addToOptions.push({id:b,label:groupName+" "+(b+1)});c.addToGroup||(c.addToGroup=c.addToOptions[0])})},g=Array(),c.currentLances=Array(),localStorage.as_builder_current_lances){incomingLances=JSON.parse(localStorage.as_builder_current_lances);for(var f=0;f<incomingLances.length;f++){var g=new asGroup;incomingLances[f].customName&&(g.customName=incomingLances[f].customName);for(var h=0;h<incomingLances[f].members.length;h++)if(null!=incomingLances[f].members[h]){var i=new asUnit(incomingLances[f].members[h]);g.members.push(i)}c.currentLances.push(g)}}0==c.currentLances.length&&c.currentLances.push(new asGroup),c.makeAddToOptions(),localStorage.as_builder_favorites||(localStorage.as_builder_favorites="[]"),c.favoriteGroups=JSON.parse(localStorage.as_builder_favorites),c.viewingMech=null,c.viewingLance=null,c.viewingMechIndex=-1,c.foundMULItems=Array(),localStorage.as_builder_current_search?(localStorage.as_builder_current_rules&&(c.rulesFilter=localStorage.as_builder_current_rules),localStorage.as_builder_current_tech&&(c.techFilter=localStorage.as_builder_current_tech),c.currentSearch=localStorage.as_builder_current_search,c.updateMULList()):c.currentSearch="",c.newGroup=function(){c.currentLances.push(new asGroup),c.saveToLS()},c.removeGroup=function(a){c.currentLances.splice(a,1),c.saveToLS()},c.viewMech=function(a,b){c.viewingMech=a.members[b],c.viewingLance=a,c.viewingMechIndex=b},c.toggleDetails=function(a,b){a.members[b].toggleShowingDetails(),c.saveToLS()},c.viewSearchMech=function(a){c.viewingMech=new asUnit(c.foundMULItems.Units[a])},c.closeViewMech=function(a){c.viewingMech=null,c.viewingLance=null,c.viewingMechIndex=-1},c.addToLance=function(a){var b=new asUnit(c.foundMULItems.Units[a]);console.log("Add Raw",c.foundMULItems.Units[a]),console.log("Add",b),c.currentLances[c.addToGroup.id].members.push(b),c.saveToLS()},c.removefFromLance=function(a,b){a.members.splice(b,1),c.saveToLS()},c.removeFromFavorites=function(a){c.favoriteGroups.splice(a,1),c.saveToLS()},c.addGroupToFavorites=function(a){if(console.log(a),console.log(c.currentLances),c.currentLances[a]){var b=new Date,d=b.getDate(),e=b.getMonth()+1,f=b.getFullYear();10>d&&(d="0"+d),10>e&&(e="0"+e),b=e+"/"+d+"/"+f,groupName="Saved Group",""!=c.currentLances[a].customName&&(groupName=c.currentLances[a].customName);for(var g={savedOn:b,customName:groupName,members:Array()},h=0;h<c.currentLances[a].members.length;h++){var i={name:c.currentLances[a].members[h].name,customName:c.currentLances[a].members[h].customName,currentSkill:c.currentLances[a].members[h].currentSkill,mulID:c.currentLances[a].members[h].mulID};g.members.push(i)}c.favoriteGroups.push(g),c.saveToLS(),console.log(c.favoriteGroups)}c.range=function(a,b,c){c=c||1;for(var d=[],e=a;b>=e;e+=c)d.push(e);return d}}}];angular.module("webApp").controller("asBuilderController",asBuilderArray),angular.module("cordovaApp").controller("asBuilderController",asBuilderArray);var asPlayViewArray=["$rootScope","$translate","$scope","$http","$location",function(a,b,c,d,e){if(a.showSciFiCreatorMenu=!1,a.showChargenMenu=!1,b(["APP_TITLE","INDEX_WELCOME"]).then(function(b){a.title_tag=b.INDEX_WELCOME+" | "+b.APP_TITLE,a.subtitle_tag=b.INDEX_WELCOME}),c.activeView=!0,localStorage.backToPath=e.$$path,g=Array(),c.currentLances=Array(),localStorage.as_builder_current_lances){incomingLances=JSON.parse(localStorage.as_builder_current_lances);for(var f=0;f<incomingLances.length;f++){var g=new asGroup;incomingLances[f].customName&&(g.customName=incomingLances[f].customName);for(var h=0;h<incomingLances[f].members.length;h++)if(null!=incomingLances[f].members[h]){var i=new asUnit(incomingLances[f].members[h]);g.members.push(i)}c.currentLances.push(g)}}0==c.currentLances.length&&c.currentLances.push(new asGroup),c.viewingLance=0,localStorage.as_builder_current_play_page&&localStorage.as_builder_current_play_page<c.currentLances.length&&(c.viewingLance=localStorage.as_builder_current_play_page),c.setHeat=function(a,b){a.setHeat(b),c.saveToLS()},c.changePage=function(a){c.viewingLance=a,c.saveToLS()},c.toggleStructure=function(a,b){a.currentStructure[b]?a.currentStructure[b]=!1:a.currentStructure[b]=!0,a.calcCurrentVals(),c.saveToLS()},c.toggleArmor=function(a,b){a.currentArmor[b]?a.currentArmor[b]=!1:a.currentArmor[b]=!0,a.calcCurrentVals(),c.saveToLS()},c.toggleEngineCrit=function(a,b){a.engineHits[b]?a.engineHits[b]=!1:a.engineHits[b]=!0,a.calcCurrentVals(),c.saveToLS()},c.toggleFireControlCrit=function(a,b){a.fireControlHits[b]?a.fireControlHits[b]=!1:a.fireControlHits[b]=!0,a.calcCurrentVals(),c.saveToLS()},c.toggleMPCrit=function(a,b){a.mpControlHits[b]?a.mpControlHits[b]=!1:a.mpControlHits[b]=!0,a.calcCurrentVals(),c.saveToLS()},c.toggleWeaponCrit=function(a,b){a.weaponHits[b]?a.weaponHits[b]=!1:a.weaponHits[b]=!0,a.calcCurrentVals(),console.log(a.weaponHits),c.saveToLS()},c.takeDamage=function(a,b){"undefined"==typeof b&&(b=1),a.takeDamage(b),a.showDamageBar=!1,c.saveToLS()},c.showDamageSelect=function(a){a.showDamageBar=!0},c.updateMemberCounts=function(){for(f=0;f<c.currentLances.length;f++)c.currentLances[f].getActiveMembers()},c.saveToLS=function(){c.updateMemberCounts(),localStorage.as_builder_current_lances=JSON.stringify(c.currentLances),localStorage.as_builder_current_play_page=c.viewingLance},c.updateMemberCounts()}];angular.module("webApp").controller("asPlayViewController",asPlayViewArray),angular.module("cordovaApp").controller("asPlayViewController",asPlayViewArray);var battlemechCreatorControllerExportsArray=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_EXPORTS_TITLE","BM_EXPORTS_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_EXPORTS_TITLE+" | "+b.APP_TITLE,b.BM_EXPORTS_DESC?c.h3_title=b.BM_EXPORTS_TITLE+": "+b.BM_EXPORTS_DESC:c.h3_title=b.BM_EXPORTS_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),localStorage.backToPath=d.$$path,current_mech=new Mech,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),current_mech.useLang=localStorage["tmp.preferred_language"],c.mech_tro=current_mech.makeTROHTML(),c.mech_bv_calc=current_mech.getBVCalcHTML(),c.mech_as_calc=current_mech.getASCalcHTML(),c.makeRecordSheet=function(){pdf=makeBattlemechRecordSheetPDF(current_mech),pdf.output("dataurlnewwindow")},c.makeTROSheet=function(){pdf=makeBattlemechTROPDF(current_mech),pdf.output("dataurlnewwindow")},c.makeCombinedSheet=function(){pdf=makeBattlemechCombinedPDF(current_mech)}}];angular.module("webApp").controller("battlemechCreatorControllerExports",battlemechCreatorControllerExportsArray),angular.module("cordovaApp").controller("battlemechCreatorControllerExports",battlemechCreatorControllerExportsArray);var battlemechCreatorControllerStep1Array=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_STEP1_TITLE","BM_STEP1_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_STEP1_TITLE+" | "+b.APP_TITLE,b.BM_STEP1_DESC?c.h3_title=b.BM_STEP1_TITLE+": "+b.BM_STEP1_DESC:c.h3_title=b.BM_STEP1_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),current_mech=new Mech,localStorage.backToPath=d.$$path,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),current_mech.useLang=localStorage["tmp.preferred_language"],update_mech_status_bar_and_tro(c,b,current_mech),c.mech_name=current_mech.getName(),translated_btTechOptions=[],translated_mechTypeOptions=[],translated_btEraOptions=[];for(var e=0;e<btTechOptions.length;e++){var f=Object.create(btTechOptions[e]);f.name[localStorage["tmp.preferred_language"]]?(f.name=f.name[localStorage["tmp.preferred_language"]],translated_btTechOptions.push(f)):(f.name="( "+localStorage["tmp.preferred_language"]+" - "+f.name["en-US"]+")",translated_btTechOptions.push(f))}for(var e=0;e<mechTypeOptions.length;e++){var f=Object.create(mechTypeOptions[e]);f.name[localStorage["tmp.preferred_language"]]?(f.name=f.name[localStorage["tmp.preferred_language"]],translated_mechTypeOptions.push(f)):(f.name="( "+localStorage["tmp.preferred_language"]+" - "+f.name["en-US"]+")",translated_mechTypeOptions.push(f))}for(var e=0;e<btEraOptions.length;e++){var f=Object.create(btEraOptions[e]);f.name[localStorage["tmp.preferred_language"]]?(f.name=f.name[localStorage["tmp.preferred_language"]],translated_btEraOptions.push(f)):(f.name="( "+localStorage["tmp.preferred_language"]+" - "+f.name["en-US"]+")",translated_btEraOptions.push(f))}c.mech_tech={availableOptions:translated_btTechOptions,selectedOption:current_mech.getTech()},c.mech_type={availableOptions:translated_mechTypeOptions,selectedOption:current_mech.getType()},c.mech_era={availableOptions:translated_btEraOptions,selectedOption:current_mech.getEra()};for(var g=[],h=20;100>=h;h+=5)g.push(h);c.mech_tonnage_options=g,c.mech_tonnage={availableOptions:g,selectedOption:current_mech.getTonnage()},c.update_mech_name=function(){current_mech.setName(c.mech_name),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_mech_status_bar_and_tro(c,b,current_mech)},c.update_mech_tech=function(){current_mech.setTech(c.mech_tech.selectedOption.id),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_mech_status_bar_and_tro(c,b,current_mech)},c.update_mech_type=function(){current_mech.setMechType(c.mech_type.selectedOption.id),current_mech.clearArmCriticalAllocationTable(),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_mech_status_bar_and_tro(c,b,current_mech)},c.update_mech_era=function(){current_mech.setEra(c.mech_era.selectedOption.id),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_mech_status_bar_and_tro(c,b,current_mech)},c.update_mech_tonnage=function(){current_mech.setTonnage(c.mech_tonnage.selectedOption),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_mech_status_bar_and_tro(c,b,current_mech)}}];angular.module("webApp").controller("battlemechCreatorControllerStep1",battlemechCreatorControllerStep1Array),angular.module("cordovaApp").controller("battlemechCreatorControllerStep1",battlemechCreatorControllerStep1Array);var battlemechCreatorControllerStep2Array=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_STEP2_TITLE","BM_STEP2_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_STEP2_TITLE+" | "+b.APP_TITLE,b.BM_STEP2_DESC?c.h3_title=b.BM_STEP2_TITLE+": "+b.BM_STEP2_DESC:c.h3_title=b.BM_STEP2_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),current_mech=new Mech,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),current_mech.useLang=localStorage["tmp.preferred_language"],localStorage.backToPath=d.$$path,update_walking_jumping_dropdowns(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),c.update_mech_walking=function(){current_mech.setWalkSpeed(c.mech_walking.selectedOption.id),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_walking_jumping_dropdowns(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech)},c.update_mech_jumping=function(){current_mech.setJumpSpeed(c.mech_jumping.selectedOption.id),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_walking_jumping_dropdowns(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech)}}];angular.module("webApp").controller("battlemechCreatorControllerStep2",battlemechCreatorControllerStep2Array),angular.module("cordovaApp").controller("battlemechCreatorControllerStep2",battlemechCreatorControllerStep2Array);var battlemechCreatorControllerStep3Array=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_STEP3_TITLE","BM_STEP3_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_STEP3_TITLE+" | "+b.APP_TITLE,b.BM_STEP3_DESC?c.h3_title=b.BM_STEP3_TITLE+": "+b.BM_STEP3_DESC:c.h3_title=b.BM_STEP3_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),current_mech=new Mech,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),current_mech.useLang=localStorage["tmp.preferred_language"];var e="";localStorage.backToPath=d.$$path,b(["BM_STEP3_BM_INC_10_HS","BM_STEP3_BM_INC_10_DOUBLE_HS","BM_STEP3_CRITICAL_REQUIRED"]).then(function(a){c.label_included_heatsinks=a.BM_STEP3_BM_INC_10_HS,e=a.BM_STEP3_CRITICAL_REQUIRED}),update_heat_sink_dropdown(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),c.selected_heat_sink_tech=current_mech.getHeatSinksType(),c.update_selected_heat_sinks=function(){current_mech.setAdditionalHeatSinks(c.selected_heat_sinks.id),update_heat_sink_dropdown(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()},c.update_selected_heat_sink_tech=function(){console.log("$scope.selected_heat_sink_tech",c.selected_heat_sink_tech),current_mech.setHeatSinksType(c.selected_heat_sink_tech),current_mech.clearHeatSinkCriticals(),update_heat_sink_dropdown(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()}}];angular.module("webApp").controller("battlemechCreatorControllerStep3",battlemechCreatorControllerStep3Array),angular.module("cordovaApp").controller("battlemechCreatorControllerStep3",battlemechCreatorControllerStep3Array);var battlemechCreatorControllerStep4Array=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_STEP4_TITLE","BM_STEP4_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_STEP4_TITLE+" | "+b.APP_TITLE,b.BM_STEP4_DESC?c.h3_title=b.BM_STEP4_TITLE+": "+b.BM_STEP4_DESC:c.h3_title=b.BM_STEP4_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),current_mech=new Mech,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),current_mech.useLang=localStorage["tmp.preferred_language"],update_step4_page_items(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage.backToPath=d.$$path,c.update_armor_weight=function(){current_mech.setArmorWeight(c.selected_armor_weight.id),update_step4_page_items(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()},c.allocate_max=function(){internal_structure=current_mech.getInteralStructure(),centerTorsoArmor=2*internal_structure.centerTorso,lrTorsoArmor=2*internal_structure.rightTorso,centerTorsoArmorRear=Math.ceil(.2*centerTorsoArmor),centerTorsoArmor-=centerTorsoArmorRear,lrTorsoArmorRear=Math.ceil(.2*lrTorsoArmor),lrTorsoArmor-=lrTorsoArmorRear,current_mech.setRightTorsoArmor(lrTorsoArmor),current_mech.setCenterTorsoArmor(centerTorsoArmor),current_mech.setLeftTorsoArmor(lrTorsoArmor),current_mech.setRightTorsoRearArmor(lrTorsoArmorRear),current_mech.setCenterTorsoRearArmor(centerTorsoArmorRear),current_mech.setLeftTorsoRearArmor(lrTorsoArmorRear),current_mech.setRightLegArmor(2*internal_structure.rightLeg),current_mech.setLeftLegArmor(2*internal_structure.leftLeg),current_mech.setHeadArmor(9),"biped"==current_mech.getType()["class"].toLowerCase()?(current_mech.setRightArmArmor(2*internal_structure.leftArm),current_mech.setLeftArmArmor(2*internal_structure.leftArm)):(current_mech.setRightArmArmor(2*internal_structure.rightLeg),current_mech.setLeftArmArmor(2*internal_structure.leftLeg)),update_step4_page_items(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()},c.allocate_sanely=function(){total_armor=current_mech.getTotalArmor(),internal_structure=current_mech.getInteralStructure(),maximum_armor=current_mech.getMaxArmor(),percentage=total_armor/maximum_armor,arm_armor=Math.floor(2*internal_structure.rightArm*percentage),torso_armor=Math.floor(1.75*internal_structure.rightTorso*percentage),leg_armor=Math.floor(2*internal_structure.rightLeg*percentage),rear_armor=Math.floor(.25*internal_structure.rightTorso*percentage),centerTorsoArmor=Math.floor(1.75*internal_structure.centerTorso*percentage),centerTorsoArmorRear=Math.floor(.25*internal_structure.centerTorso*percentage),total_armor>arm_armor&&(head_armor=arm_armor,head_armor>9&&(head_armor=9),total_armor>=head_armor?(current_mech.setHeadArmor(head_armor),total_armor-=head_armor):current_mech.setHeadArmor(0)),total_armor>torso_armor&&(current_mech.setRightTorsoArmor(torso_armor),total_armor-=torso_armor),total_armor>rear_armor&&(current_mech.setRightTorsoRearArmor(rear_armor),total_armor-=rear_armor),total_armor>torso_armor&&(current_mech.setLeftTorsoArmor(torso_armor),total_armor-=torso_armor),total_armor>rear_armor&&(current_mech.setLeftTorsoRearArmor(rear_armor),total_armor-=rear_armor),total_armor>leg_armor&&(current_mech.setRightLegArmor(leg_armor),total_armor-=leg_armor),total_armor>leg_armor&&(current_mech.setLeftLegArmor(leg_armor),total_armor-=leg_armor),total_armor>arm_armor&&(current_mech.setRightArmArmor(arm_armor),total_armor-=arm_armor),total_armor>arm_armor&&(current_mech.setLeftArmArmor(arm_armor),total_armor-=arm_armor),total_armor>rear_armor&&(current_mech.setCenterTorsoRearArmor(centerTorsoArmorRear),total_armor-=rear_armor),current_mech.setCenterTorsoArmor(centerTorsoArmor),update_step4_page_items(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()},c.clear_armor=function(){current_mech.setHeadArmor(0),current_mech.setRightTorsoArmor(0),current_mech.setRightTorsoRearArmor(0),current_mech.setLeftTorsoArmor(0),current_mech.setLeftTorsoRearArmor(0),current_mech.setRightLegArmor(0),current_mech.setLeftLegArmor(0),current_mech.setRightArmArmor(0),current_mech.setLeftArmArmor(0),current_mech.setCenterTorsoRearArmor(0),current_mech.setCenterTorsoArmor(0),update_step4_page_items(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()},c.update_armor_allocation=function(a){console.log("armor_location",a),"hd"==a?(console.log("setHeadArmor",c.armor_current_hd.id),current_mech.setHeadArmor(c.armor_current_hd.id)):"ra"==a?current_mech.setRightArmArmor(c.armor_current_ra.id):"la"==a?current_mech.setLeftArmArmor(c.armor_current_la.id):"rt"==a?current_mech.setRightTorsoArmor(c.armor_current_rt.id):"ct"==a?current_mech.setCenterTorsoArmor(c.armor_current_ct.id):"lt"==a?current_mech.setLeftTorsoArmor(c.armor_current_lt.id):"rtr"==a?current_mech.setRightTorsoRearArmor(c.armor_current_rtr.id):"ctr"==a?current_mech.setCenterTorsoRearArmor(c.armor_current_ctr.id):"ltr"==a?current_mech.setLeftTorsoRearArmor(c.armor_current_ltr.id):"rl"==a?current_mech.setRightLegArmor(c.armor_current_rl.id):"ll"==a&&current_mech.setLeftLegArmor(c.armor_current_ll.id),
update_step4_page_items(c,b,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()}}];angular.module("webApp").controller("battlemechCreatorControllerStep4",battlemechCreatorControllerStep4Array),angular.module("cordovaApp").controller("battlemechCreatorControllerStep4",battlemechCreatorControllerStep4Array);var battlemechCreatorControllerStep5Array=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_STEP5_TITLE","BM_STEP5_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_STEP5_TITLE+" | "+b.APP_TITLE,b.BM_STEP5_DESC?c.h3_title=b.BM_STEP5_TITLE+": "+b.BM_STEP5_DESC:c.h3_title=b.BM_STEP5_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),current_mech=new Mech,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),localStorage.backToPath=d.$$path,current_mech.useLang=localStorage["tmp.preferred_language"],update_mech_status_bar_and_tro(c,b,current_mech),c.equipment_table=[],"clan"==current_mech.getTech().tag?c.equipment_table=mechClanEquipment:c.equipment_table=mechISEquipment;for(var e=0;e<c.equipment_table.length;e++)c.equipment_table[e].name[localStorage["tmp.preferred_language"]]?c.equipment_table[e].local_name=c.equipment_table[e].name[localStorage["tmp.preferred_language"]]:c.equipment_table[e].local_name=c.equipment_table[e].name["en-US"],c.equipment_table[e].category[localStorage["tmp.preferred_language"]]?c.equipment_table[e].local_category=c.equipment_table[e].category[localStorage["tmp.preferred_language"]]:c.equipment_table[e].local_category=c.equipment_table[e].category["en-US"],c.equipment_table[e].local_space=c.equipment_table[e].space.battlemech;b(["BM_STEP5_SELECT_LOCATION"]).then(function(a){c.item_locations=[],c.installed_equipment_table=current_mech.getInstalledEquipment();for(var b=0;b<c.installed_equipment_table.length;b++)c.installed_equipment_table[b].name[localStorage["tmp.preferred_language"]]?c.installed_equipment_table[b].local_name=c.installed_equipment_table[b].name[localStorage["tmp.preferred_language"]]:c.installed_equipment_table[b].local_name=c.installed_equipment_table[b].name["en-US"],c.installed_equipment_table[b].category[localStorage["tmp.preferred_language"]]?c.installed_equipment_table[b].local_category=c.installed_equipment_table[b].category[localStorage["tmp.preferred_language"]]:c.installed_equipment_table[b].local_category=c.installed_equipment_table[b].category["en-US"],c.installed_equipment_table[b].local_space=c.installed_equipment_table[b].space.battlemech,c.item_locations[b]=make_select_object(c.installed_equipment_table[b].location);var d=[];for(d.push({id:"undefined",name:"- "+a.BM_STEP5_SELECT_LOCATION+" -"}),loccount=0;loccount<battlemechLocations.length;loccount++)d.push({id:battlemechLocations[loccount].tag,name:battlemechLocations[loccount].name[localStorage["tmp.preferred_language"]]});c.bm_location_list={availableOptions:d}}),c.addItem=function(a){c.equipment_table[a].tag&&(current_mech.addEquipmentFromTag(c.equipment_table[a].tag),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON())},c.removeItem=function(a){current_mech.removeEquipment(a),c.item_locations.splice(a,1),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()},c.updateLocation=function(a){current_mech.setEquipmentLocation(a,c.item_locations[a].id),update_mech_status_bar_and_tro(c,b,current_mech),localStorage["tmp.current_mech"]=current_mech.exportJSON()}}];angular.module("webApp").controller("battlemechCreatorControllerStep5",battlemechCreatorControllerStep5Array),angular.module("cordovaApp").controller("battlemechCreatorControllerStep5",battlemechCreatorControllerStep5Array);var battlemechCreatorControllerStep6Array=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_STEP6_TITLE","BM_STEP6_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_STEP6_TITLE+" | "+b.APP_TITLE,b.BM_STEP6_DESC?c.h3_title=b.BM_STEP6_TITLE+": "+b.BM_STEP6_DESC:c.h3_title=b.BM_STEP6_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),current_mech=new Mech,localStorage.backToPath=d.$$path,c.selectedItem=null,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),current_mech.useLang=localStorage["tmp.preferred_language"],update_mech_status_bar_and_tro(c,b,current_mech),update_step_6_items(c,current_mech),b(["TRO_ARMOR_HD","TRO_ARMOR_CT","TRO_ARMOR_RT","TRO_ARMOR_LT","TRO_ARMOR_RA","TRO_ARMOR_LA","TRO_ARMOR_RL","TRO_ARMOR_LL","TRO_ARMOR_RFL","TRO_ARMOR_LFL","TRO_ARMOR_RRL","TRO_ARMOR_LRL"]).then(function(a){c.label_head=a.TRO_ARMOR_HD,c.label_center_torso=a.TRO_ARMOR_CT,c.label_right_torso=a.TRO_ARMOR_RT,c.label_left_torso=a.TRO_ARMOR_LT,"quad"==current_mech.mech_type["class"].toLowerCase()?(c.battlemech_is_quad=!0,c.label_right_arm=a.TRO_ARMOR_RFL,c.label_left_arm=a.TRO_ARMOR_LFL,c.label_right_leg=a.TRO_ARMOR_RRL,c.label_left_leg=a.TRO_ARMOR_LRL):(c.battlemech_is_quad=!1,c.label_right_arm=a.TRO_ARMOR_RA,c.label_left_arm=a.TRO_ARMOR_LA,c.label_right_leg=a.TRO_ARMOR_RL,c.label_left_leg=a.TRO_ARMOR_LL)}),c.step6ItemClick=function(a,d,e){if("undefined"==typeof a&&(a=null),"undefined"==typeof d&&(d=null),"undefined"==typeof e&&(e=null),c.errorCannotPlace=!1,c.errorCannotMove=!1,null==c.selectedItem)null!=a&&(1==a.movable?c.selectedItem={item:a,from:e,index:d}:c.errorCannotMove=!0);else if(a)c.errorCannotPlace=!0;else{var f=c.selectedItem.item.tag,g=c.selectedItem.from,h=c.selectedItem.index,i=e,j=d;worked=current_mech.moveCritical(f,g,h,i,j),worked?(current_mech.updateCriticalAllocationTable(),current_mech._calc(),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_step_6_items(c,current_mech),update_mech_status_bar_and_tro(c,b,current_mech),c.selectedItem=null):c.errorCannotPlace=!0}},c.clickLowerRightArmActuator=function(){c.has_ra_lower_arm_actuator?current_mech.addLowerArmActuator("ra"):current_mech.removeLowerArmActuator("ra"),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_step_6_items(c,current_mech),update_mech_status_bar_and_tro(c,b,current_mech)},c.clickLowerLeftArmActuator=function(){c.has_la_lower_arm_actuator?current_mech.addLowerArmActuator("la"):current_mech.removeLowerArmActuator("la"),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_step_6_items(c,current_mech),update_mech_status_bar_and_tro(c,b,current_mech)},c.clickRightHandActuator=function(){c.has_ra_hand_actuator?current_mech.addHandActuator("ra"):current_mech.removeHandActuator("ra"),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_step_6_items(c,current_mech),update_mech_status_bar_and_tro(c,b,current_mech)},c.clickLeftHandActuator=function(){c.has_la_hand_actuator?current_mech.addHandActuator("la"):current_mech.removeHandActuator("la"),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_step_6_items(c,current_mech),update_mech_status_bar_and_tro(c,b,current_mech)},c.resetAllocations=function(){c.selectedItem=null,current_mech.clearCriticalAllocationTable(),current_mech._calc(),localStorage["tmp.current_mech"]=current_mech.exportJSON(),update_step_6_items(c,current_mech),update_mech_status_bar_and_tro(c,b,current_mech)}}];angular.module("webApp").controller("battlemechCreatorControllerStep6",battlemechCreatorControllerStep6Array),angular.module("cordovaApp").controller("battlemechCreatorControllerStep6",battlemechCreatorControllerStep6Array);var battlemechCreatorControllerSummaryArray=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_SUMMARY_TITLE","BM_SUMMARY_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_SUMMARY_TITLE+" | "+b.APP_TITLE,b.BM_SUMMARY_DESC?c.h3_title=b.BM_SUMMARY_TITLE+": "+b.BM_SUMMARY_DESC:c.h3_title=b.BM_SUMMARY_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),localStorage.backToPath=d.$$path,current_mech=new Mech,localStorage["tmp.current_mech"]?current_mech.importJSON(localStorage["tmp.current_mech"]):current_mech.uuid=generateUUID(),current_mech.useLang=localStorage["tmp.preferred_language"],c.mech_tro=current_mech.makeTROHTML(),c.mech_bv_calc=current_mech.getBVCalcHTML(),c.mech_as_calc=current_mech.getASCalcHTML(),c.mech_cbill_calc=current_mech.getCBillCalcHTML()}];angular.module("webApp").controller("battlemechCreatorControllerSummary",battlemechCreatorControllerSummaryArray),angular.module("cordovaApp").controller("battlemechCreatorControllerSummary",battlemechCreatorControllerSummaryArray);var battlemechCreatorControllerWelcomeArray=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","BM_INTRO_TITLE","BM_INTRO_DESC","WELCOME_BUTTON_MECH_CREATOR"]).then(function(b){a.title_tag=b.BM_INTRO_TITLE+" | "+b.APP_TITLE,b.BM_WELCOME_DESC?c.h3_title=b.BM_INTRO_TITLE+": "+b.BM_INTRO_DESC:c.h3_title=b.BM_INTRO_TITLE,a.subtitle_tag="&raquo; "+b.WELCOME_BUTTON_MECH_CREATOR}),localStorage.backToPath=d.$$path;var e=new Mech;localStorage["tmp.current_mech"]?e.importJSON(localStorage["tmp.current_mech"]):e.uuid=generateUUID(),c.confirmDialogQuestion="",c.showConfirmDialog=!1,c.confirmDialog=function(a,b){c.confirmDialogQuestion=a,c.showConfirmDialog=!0,c.confirmDialogYes=b},c.closeConfirmDialog=function(){c.showConfirmDialog=!1,c.confirmDialogYes=function(){c.showConfirmDialog=!1}},c.clearMech=function(){b(["BM_CLEAR_MECH"]).then(function(a){c.confirmDialog(a.BM_CLEAR_MECH,function(){e=new Mech,e.uuid=generateUUID(),localStorage["tmp.current_mech"]=e.exportJSON(),c.showConfirmDialog=!1})})},c.removeSavedItem=function(a){b(["BM_DELETE_ITEM"]).then(function(b){c.confirmDialog(b.BM_DELETE_ITEM,function(){c.showConfirmDialog=!1,c.saved_items_mechs.splice(a,1),localStorage.saved_items_mechs=JSON.stringify(c.saved_items_mechs)})})},c.saveMechDialogOpen=!1,c.saveDialog=function(){c.save_as_name=e.getName(),c.save_over=-1,c.saved_items_mechs=[],localStorage.saved_items_mechs?c.saved_items_mechs=JSON.parse(localStorage.saved_items_mechs):(localStorage.saved_items_mechs="[]",c.saved_items_mechs=[]);for(var a=0;a<c.saved_items_mechs.length;a++)c.saved_items_mechs[a].localTechName=c.saved_items_mechs[a].tech.name[localStorage["tmp.preferred_language"]];c.saveMechDialogOpen=!0},c.updateSave=function(a){c.save_over=a},c.updateSaveName=function(a){c.save_as_name=a},c.closeSaveDialog=function(){c.saveMechDialogOpen=!1},c.saveMech=function(){localStorage.saved_items_mechs?c.saved_items_mechs=JSON.parse(localStorage.saved_items_mechs):(localStorage.saved_items_mechs="[]",c.saved_items_mechs=[]);var a={saveName:c.save_as_name,savedOn:new Date,tonnage:e.getTonnage(),tech:e.getTech(),data:e.exportJSON()};-1==c.save_over?c.saved_items_mechs.push(a):c.saved_items_mechs[c.save_over]=a,localStorage.saved_items_mechs=JSON.stringify(c.saved_items_mechs),c.saveMechDialogOpen=!1},c.loadMechDialogOpen=!1,c.loadDialog=function(){c.saved_items_mechs=[],localStorage.saved_items_mechs?c.saved_items_mechs=JSON.parse(localStorage.saved_items_mechs):(localStorage.saved_items_mechs="[]",c.saved_items_mechs=[]);for(var a=0;a<c.saved_items_mechs.length;a++)c.saved_items_mechs[a].localTechName=c.saved_items_mechs[a].tech.name[localStorage["tmp.preferred_language"]];c.loadMechDialogOpen=!0},c.loadSavedItem=function(a){c.saved_items_mechs=[],localStorage.saved_items_mechs?c.saved_items_mechs=JSON.parse(localStorage.saved_items_mechs):(localStorage.saved_items_mechs="[]",c.saved_items_mechs=[]),c.saved_items_mechs[a]&&(localStorage["tmp.current_mech"]=c.saved_items_mechs[a].data,d.url("battlemech-creator/step1")),c.loadMechDialogOpen=!1},c.closeLoadDialog=function(){c.loadMechDialogOpen=!1}}];angular.module("webApp").controller("battlemechCreatorControllerWelcome",battlemechCreatorControllerWelcomeArray),angular.module("cordovaApp").controller("battlemechCreatorControllerWelcome",battlemechCreatorControllerWelcomeArray);var battlemechCreatorControllerSidebarArray=["$rootScope","$translate","$scope","$route",function(a,b,c,d){c.button_welcome_current=!1,c.button_step1_current=!1,c.button_step2_current=!1,c.button_step3_current=!1,c.button_step4_current=!1,c.button_step5_current=!1,c.button_step6_current=!1,c.button_summary_current=!1,c.button_exports_current=!1,"/battlemech-creator/"==d.current.originalPath?c.button_welcome_current=!0:"/battlemech-creator/step1/"==d.current.originalPath?c.button_step1_current=!0:"/battlemech-creator/step2/"==d.current.originalPath?c.button_step2_current=!0:"/battlemech-creator/step3/"==d.current.originalPath?c.button_step3_current=!0:"/battlemech-creator/step4/"==d.current.originalPath?c.button_step4_current=!0:"/battlemech-creator/step5/"==d.current.originalPath?c.button_step5_current=!0:"/battlemech-creator/step6/"==d.current.originalPath?c.button_step6_current=!0:"/battlemech-creator/summary/"==d.current.originalPath?c.button_summary_current=!0:"/battlemech-creator/exports/"==d.current.originalPath&&(c.button_exports_current=!0)}];angular.module("webApp").controller("battlemechCreatorControllerSidebar",battlemechCreatorControllerSidebarArray),angular.module("cordovaApp").controller("battlemechCreatorControllerSidebar",battlemechCreatorControllerSidebarArray);var creditsArray=["$rootScope","$translate","$scope","$location",function(a,b,c,d){b(["APP_TITLE","INDEX_WELCOME"]).then(function(b){a.title_tag=b.INDEX_WELCOME+" | "+b.APP_TITLE,a.subtitle_tag="&raquo; "+b.INDEX_CREDITS}),localStorage.backToPath=d.$$path}];angular.module("webApp").controller("creditsController",creditsArray),angular.module("cordovaApp").controller("creditsController",creditsArray);var settingsArray=["$rootScope","$translate","$scope","$route","$location",function(a,b,c,d,e){for(a.showSciFiCreatorMenu=!1,a.showChargenMenu=!1,b(["APP_TITLE","GENERAL_SETTINGS"]).then(function(b){a.title_tag=b.GENERAL_SETTINGS+" | "+b.APP_TITLE,a.subtitle_tag=b.GENERAL_SETTINGS}),localStorage.backToPath=e.$$path,c.available_languages=Array(),c.users_language={},lang_count=0;lang_count<available_languages.length;lang_count++)available_languages[lang_count].active&&(language_object={id:available_languages[lang_count].short_code,label:available_languages[lang_count].native_name},c.available_languages.push(language_object),localStorage.users_preferred_language==available_languages[lang_count].short_code&&(c.users_language=language_object,c.background_image_url="url(images/flags/64/"+available_languages[lang_count].icon_file+")"));c.chargen_pdf_layout=localStorage.users_chargen_pdf_layout,c.updateLanguage=function(a){for(b.use(c.users_language.id),localStorage.users_preferred_language=c.users_language.id,lang_count=0;lang_count<available_languages.length;lang_count++)available_languages[lang_count].active&&localStorage.users_preferred_language==available_languages[lang_count].short_code&&(c.background_image_url="url(images/flags/64/"+available_languages[lang_count].icon_file+")");d.reload()},c.updateChargenPDF=function(a){localStorage.users_chargen_pdf_layout=a,c.chargen_pdf_layout=a,d.reload()}}];angular.module("webApp").controller("settingsController",settingsArray),angular.module("cordovaApp").controller("settingsController",settingsArray);var welcomeArray=["$rootScope","$translate","$scope","$location",function(a,b,c,d){if(b(["APP_TITLE","INDEX_WELCOME"]).then(function(b){a.title_tag=b.INDEX_WELCOME+" | "+b.APP_TITLE,a.subtitle_tag="&raquo; "+b.INDEX_WELCOME}),""!=localStorage.backToPath){var e=localStorage.backToPath;localStorage.backToPath="",d.url(e)}localStorage.backToPath=""}];angular.module("webApp").controller("welcomeController",welcomeArray),angular.module("cordovaApp").controller("welcomeController",welcomeArray),available_languages.push({english_name:"German",native_name:"Deutsch",icon_file:"DE.png",short_code:"de-DE",active:!0,translations:{APP_TITLE:"Jeff's BattleTech Werkzeug",INDEX_WELCOME:"Willkommen",INDEX_H3_CORE:"Jeff's BattleTech Werkzeug",INDEX_BUTTON_MECH_CREATOR:"BattleMech Hersteller",BM_MP_ABBR:"BP",BM_TONS:"tonnen",BM_TON:"tonne",BM_NO_ARMOR:"Keine rüstung",BM_WELCOME_TITLE:"Willkommen",BM_WELCOME_DESC:"",BM_STEP1_TITLE:"Schritt 1",BM_STEP1_DESC:"Gestalten sie das chassis",BM_STEP2_TITLE:"Schritt 2",BM_STEP2_DESC:"Installieren motor und steuerungssysteme",BM_STEP3_TITLE:"Schritt 3",BM_STEP3_DESC:"Fügen sie zusätzliche wärmesenken",BM_STEP4_TITLE:"Schritt 4",BM_STEP4_DESC:"In Rüstung",BM_STEP5_TITLE:"Schritt 5",BM_STEP5_DESC:"In waffen, munition und andere ausrüstung",BM_STEP6_TITLE:"Schritt 6",BM_STEP6_DESC:"Füllen sie das schaublatt",BM_SUMMARY_TITLE:"Der Auszug",BM_SUMMARY_DESC:"",BUTTON_LANG_EN:"English",BUTTON_LANG_DE:"German",BUTTON_LANG_BR:"Brazilian"}}),available_languages.push({english_name:"English",native_name:"English",icon_file:"US.png",short_code:"en-US",active:!0,translations:{APP_TITLE:"@Gauthic's BattleTech Tools",INDEX_WELCOME:"Welcome",INDEX_H3_CORE:"@Gauthic's BattleTech Tools",WELCOME_BUTTON_MECH_CREATOR:"'Mech Creator",WELCOME_BUTTON_MECH_CREATOR_DESC:"Create a BattleMech",WELCOME_BUTTON_ALPHA_STRIKE:"Alpha Strike",WELCOME_BUTTON_ALPHA_STRIKE_DESC:"Alpha Strike Force Builder and In-Play App",WELCOME_H3_CORE:"Jeff's BattleTech Tools",WELCOME_H3_CREATORS_CORE:"BattleTech Creators",WELCOME_H3_FORCE_BUILDERS_CORE:"BattleTech Force Builders",GENERAL_SELECT_LANGUAGE:"Select Langage",GENERAL_SETTINGS:"Settings",GENERAL_CREDITS:"Credits",GENERAL_COPYRIGHT:"Copyright",GENERAL_WELCOME:"Welcome",GENERAL_TECHNOLOGY:"Technology",GENERAL_TECH:"Tech",GENERAL_POINTS:"Points",GENERAL_POINT:"Point",GENERAL_POINT_VALUE:"Point Value",GENERAL_RULES:"Rules",GENERAL_BATTLETECH:"BattleTech",GENERAL_MECH:"'Mech",GENERAL_GROUP:"Group",GENERAL_TON:"Ton",GENERAL_TONS:"Tons",GENERAL_CLAN:"Clan",GENERAL_SKILL:"Skill",GENERAL_SKILL_LEVEL:"Skill Level",GENERAL_SKILL_PILOTING:"Piloting Skill",GENERAL_SKILL_GUNNERY:"Gunnery Skill",GENERAL_NAME:"Name",GENERAL_CLANS:"Clans",GENERAL_INNER_SPHERE:"Inner Sphere",GENERAL_ALL:"All",GENERAL_SEARCH:"Search",GENERAL_SEARCH_RESULTS:"Search Results",GENERAL_IMMOBILE:"Immobile",GENERAL_CANCEL:"Cancel",GENERAL_YES:"Yes",GENERAL_NO:"No",GENERAL_REMOVE:"Remove",GENERAL_SAVED:"Saved",GENERAL_SAVE_AS_NEW:"Save as New",GENERAL_SAVED_ITEM_AS:"Save Item As...",GENERAL_SAVE_NAME:"Save Name",GENERAL_SAVE:"Save",GENERAL_LOAD:"Load",GENERAL_SAVE_OVER_WARNING:"The existing item will be replaced.",GENERAL_LOAD_WARNING:"Warning: The loaded item will replace your current item. Please be sure that you have saved your current item.",GENERAL_NO_SAVED_ITEMS:"You have no saved items",GENERAL_LOAD_ITEM:"Load Saved Item",GENERAL_INTRODUCTORY:"Introductory",GENERAL_STANDARD:"Standard",GENERAL_ADVANCED:"Advanced",GENERAL_CLOSE:"Close",AS_PLEASE_WAIT:"Please wait while information is retrieved from the master unit list.",AS_FAVORITE_GROUPS:"Favorite Groups",AS_ADD_TO_GROUP:"Add to Group",AS_GROUP_POINTS:"Group Points",AS_GROUP_NUM_UNITS:"Group # Units",AS_TOTAL_POINTS:"Total Points",AS_TOTAL_UNITS:"Total Units",AS_TOTAL_GROUPS:"Total Groups",AS_CURRENT_FORCE:"Current Force",AS_ADD_NEW_GROUP:"Add New Group",AS_GROUP_EMPTY:"This group is empty",AS_SEARCH_NO_MATCHES:"Sorry, there are no matches with those parameters",AS_PLAY_VIEW:"Play View",AS_CUSTOM_UNIT_NAME:"Custom Unit Name",AS_CUSTOM_GROUP_NAME:"Custom Star/Lance Name",AS_RESULTS_PROVIDED_BY_MUL:"Search results provided by the Master Unit List Website",AS_VIEWING_CARD:"Viewing Card",AS_ADD_TO_SELECTED_GROUP_NOTED_IN_DROPDOWN:"Add this unit to the group selected in the drop down in the top right of the search results",AS_UNIT_CUSTOMIZATION:"Unit Customization",AS_SELECT_DAMAGE_TAKEN:"Select Damage Taken",AS_ADD_TO_FAVORITES:"Add this force to your favorites",BM_MP_ABBR:"MP",BM_NEXT_STEP:"Next Step",BM_PREVIOUS_STEP:"Previous Step",BM_SUMMARY:"Summary",BM_BACK_TO_WELCOME:"Welcome",BM_EXPORTS:"Exporting and Printing",BUTTON_HOME_TITLE:"Home",BUTTON_HOME_DESC:"Back to the main screen",BM_INTRO_TITLE:"Welcome",BM_INTRO_DESC:"",BM_INTRO_TEXT:"<p>Welcome to a BattleTech 'mech builder.</p><p>This tool attempts to closely follow the steps in the <a href='http://bg.battletech.com/?wpsc-product=1095-2'>BattleTech TechManual</a> and the steps in that book should be referenced during 'mech creation</p>",BM_CLEAR_MECH:"Are you sure that you want to clear out your current 'mech?",BM_DELETE_ITEM:"Are you sure that you want to delete this item?",BM_TONS:"tons",BM_TON:"ton",BM_NO_ARMOR:"No Armor",BM_REMAINING_TONS:"Remaining Tons",BM_UNALLOCATED_ARMOR:"Unallocated Armor",BM_UNALLOCATED_CRITS:"Unallocated Criticals",BM_WEAPON_HEAT:"Weapon Heat",BM_MOVE_HEAT:"Move Heat",BM_HEAT_DISSIPATION:"Heat Dissipation",BM_HEAT_SUMMARY:"Heat Summary",BM_STEP1_TITLE:"Step 1",BM_STEP1_DESC:"Design the Chassis",BM_STEP1_MECH_NAME:"Mech Model Name",BM_STEP1_MECH_TYPE:"Mech Type",BM_STEP1_MECH_ERA:"Mech Era",BM_STEP1_MECH_TONNAGE:"Mech Tonnage",BM_STEP1_MECH_TECH:"Mech Tech",BM_STEP2_TITLE:"Step 2",BM_STEP2_DESC:"Install engine and control systems",BM_STEP2_WALKING_MP:"Walking Movement Points",BM_STEP2_JUMPING_MP:"Jumping Movement Points",BM_STEP2_SELECT_JUMP:"Select Jumping MP",BM_STEP2_SELECT_WALK:"Select Walking MP",BM_STEP3_TITLE:"Step 3",BM_STEP3_DESC:"Add additional heat sinks",BM_STEP3_HS_TECH:"Heat Sink Technology",BM_STEP3_HS_ADD:"Add additional heat sinks",BM_STEP3_BM_INC_10_HS:"Your BattleMech includes 10 heat sinks.",BM_STEP3_BM_INC_10_DOUBLE_HS:"Your BattleMech includes 10 double heat sinks.",BM_STEP3_ADD_LABEL:"Additional heat sinks",BM_STEP3_CRITICAL_REQUIRED:"{hs_crits_required} critical slots are required for your engine class and selected heat sinks",BM_STEP3_CRITICAL_REQUIRED_NONE:"No additional critical slots are required for your engine class and selected heat sinks",BM_STEP3_CRITICAL_REQUIRED_SINGLE:"One critical slot is required for your engine class and selected heat sinks",BM_STEP3_SINGLE_HS:"Single Heat Sinks",BM_STEP3_DOUBLE_HS:"Double Heat Sinks",BM_STEP4_TITLE:"Step 4",BM_STEP4_DESC:"Add armor",BM_STEP4_ARMOR_WEIGHT:"Armor Weight",BM_STEP4_ARMOR_ALLOCATION:"Armor Allocation",BM_STEP4_MAX_ARMOR:"Maximum Armor",BM_STEP4_TOTAL_ARMOR:"Total Armor",BM_STEP4_UNALLOCATED_ARMOR:"Unallocated Armor",BM_STEP4_ALLOCATE_NONE:"Clear Armor",BM_STEP4_ALLOCATE_SANELY:"Allocate Sanely",BM_STEP4_ALLOCATE_MAX:"Allocate Max",BM_STEP5_TITLE:"Step 5",BM_STEP5_DESC:"Add weapons, ammunition and other equipment",BM_STEP5_ITEM_NAME:"Name",BM_STEP5_ITEM_CATEGORY:"Category",BM_STEP5_ITEM_SPACE:"Criticals",BM_STEP5_ITEM_WEIGHT:"Weight",BM_STEP5_ADD:"Add",BM_STEP5_ITEM_LOCATION:"Location",BM_STEP5_REMOVE:"Remove",BM_STEP5_INSTALLED_EQUIPMENT:"Installed Equipment",BM_STEP5_NO_EQUIPMENT_INSTALLED:"No equipment has been installed",BM_STEP5_SELECT_LOCATION:"Select Location",BM_STEP5_AVAILABLE_EQUIPMENT:"Available Equipment",BM_STEP6_TITLE:"Step 6",BM_STEP6_DESC:"Complete the record sheet",BM_STEP6_UNALLOCATED_EQUIPMENT:"Unallocated Equipment",BM_STEP6_CRITICAL_TABLE:"Critical Table",BM_STEP6_RESET_ALLOCATIONS:"Reset Allocations",BM_STEP6_INSTRUCTIONS:"Instructions",BM_STEP6_INSTRUCTIONS_TEXT:"To assign equipment to your critical allocation table, just click on an assignable item then click on an unallocated location.",BM_STEP6_SELECT_AN_ITEM_TO_ALLOCATE:"Select an item to allocate",BM_STEP6_SELECT_AN_PLACE_TO_ALLOCATE:"Click on an available location",BM_STEP6_CANNOT_MOVE_THAT_ITEM:"You cannot move that item",BM_STEP6_CANNOT_BE_PLACED:"Item cannot be placed there",BM_SUMMARY_TITLE:"Summary",BM_SUMMARY_DESC:"",BM_SUMMARY_TRO:"Technical Read Out",BM_SUMMARY_BV_CALC:"Battle Value Calculations",BM_SUMMARY_AS_CALC:"Alpha Strike Calculations",BM_SUMMARY_CBILL_CALC:"CBill Cost Calculations",BM_EXPORTS_TITLE:"Exports",BM_EXPORTS_DESC:"",BM_EXPORTS_OUTPUT:"Exporting and Printing",BM_EXPORTS_EXPORT_RECORD_SHEET:"Export Record Sheet",BM_EXPORTS_EXPORT_TRO:"Export TRO",BM_EXPORTS_EXPORT_FULL:"Export Both",BM_CRITS_LIFE_SUPPORT:"Life Support",BM_CRITS_HEAT_SINK:"Heat Sink",BM_CRITS_DOUBLE_HEAT_SINK:"Double Heat Sink",BM_CRITS_COCKPIT:"Cockpit",BM_CRITS_SENSORS:"Sensors",BM_CRITS_ACTUATOR_SHOULDER:"Shoulder",BM_CRITS_ACTUATOR_UPPER_ARM:"Upper Arm Actuator",BM_CRITS_ACTUATOR_LOWER_ARM:"Lower Arm Actuator",BM_CRITS_ACTUATOR_HAND:"Hand Actuator",BM_CRITS_ACTUATOR_HIP:"Hip",BM_CRITS_ACTUATOR_UPPER_LEG:"Upper Leg Actuator",BM_CRITS_ACTUATOR_LOWER_LEG:"Lower Leg Actuator",BM_CRITS_ACTUATOR_FOOT:"Foot Actuator",TRO_TYPE:"Type",TRO_TECHNOLOGY_BASE:"Technology Base",TRO_ERA:"Era",TRO_TONNAGE:"Tonnage",TRO_BATTLE_VALUE:"Battle Value",TRO_ALPHA_STRIKE_VALUE:"Alpha Strike Value",TRO_CBILL_COST:"C-Bill Cost",TRO_EQUIPMENT:"Equipment",TRO_MASS:"Mass",TRO_NOT_AVAILABLE:"n/a",TRO_INTERNAL_STRUCTURE:"Internal Structure",TRO_INTERNAL:"Internal",TRO_STRUCTURE:"Structure",TRO_ENGINE:"Engine",TRO_WALKING:"Walking",TRO_RUNNING:"Running",TRO_JUMPING:"Jumping",TRO_HEAT_SINKS:"Heat Sinks",TRO_ARM_ACTUATORS:"Actuators",TRO_LOWER_LEFT:"LLA",TRO_LEFT_HAND:"LH",TRO_LOWER_RIGHT:"RLA",TRO_RIGHT_HAND:"RH",TRO_NO_LOWER_ARM_ACTUATORS:"No lower arm actuators",TRO_GYRO:"Gyro",TRO_COCKPIT:"Cockpit",TRO_JUMP_JETS:"Jump Jets",TRO_ARMOR_FACTOR:"Armor Factor",TRO_ARMOR_IS:"Internal Structure",TRO_ARMOR_VALUE:"Armor Value",TRO_ARMOR:"Armor",TRO_VALUE:"Value",TRO_ARMOR_HD:"Head",TRO_ARMOR_CT:"Center Torso",TRO_ARMOR_CTR:"Center Torso (Rear)",TRO_ARMOR_RLT:"R/L Torso",TRO_ARMOR_RLTR:"R/L Torso (Rear)",TRO_ARMOR_RT:"Right Torso",TRO_ARMOR_RTR:"Right Torso (Rear)",TRO_ARMOR_LT:"Left Torso",TRO_ARMOR_LTR:"Left Torso (Rear)",TRO_ARMOR_RLA:"R/L Arm",TRO_ARMOR_RA:"Right Arm",TRO_ARMOR_LA:"Left Arm",TRO_ARMOR_RLL:"R/L Leg",TRO_ARMOR_RL:"Right Leg",TRO_ARMOR_LL:"Left Leg",TRO_ARMOR_RLFL:"R/L Front Leg",TRO_ARMOR_RLRL:"R/L Rear Leg",TRO_ARMOR_RFL:"Right Front Leg",TRO_ARMOR_LFL:"Left Front Leg",TRO_ARMOR_RRL:"Right Rear Leg",TRO_ARMOR_LRL:"Left Rear Leg",TRO_WEAPONS_AND_AMMO:"Weapons<br />and Ammo",TRO_WEAPONS:"Weapons",TRO_AND_AMMO:"and Ammo",TRO_LOCATION:"Location",TRO_CRITICAL:"Critical",BUTTON_LANG_EN:"English",BUTTON_LANG_DE:"German",BUTTON_LANG_BR:"Brazilian"}});
//# sourceMappingURL=sourcemap.map